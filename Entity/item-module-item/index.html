<!DOCTYPE HTML><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="google-site-verification" content="GkJ68PCnxM9Ih7Zm9v8p91FOCV7ymNCO2KdGbflLh3E"><meta name="360-site-verification" content="dd6547587641bfede036f7c79561e8a0"><meta name="shenma-site-verification" content="fd96cf3751972c9b05f8471d2ccadddc_1496951214"><meta name="msvalidate.01" content="1D38B05050A977F6FDEDA481198343F1"><meta name="sogou_site_verification" content="MpPsku240L"><title>数据库实体设计 —— 商品（1.1）之商品信息 | 芋道源码 —— 纯源码解析博客</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=3,minimum-scale=1"><meta name="author" content="芋道源码"><meta name="description" content="摘要: 原创出处 http://www.iocoder.cn/Entity/item-module-item/ 「芋道源码」欢迎转载，保留摘要，谢谢！

1. 概述
2. 背景了解
2.1 名词定义
2.2 界面


3. 数据库实体
3.1 Item
3.2 ItemSku
3.3 ItemSku"><meta name="keywords" content="Java,架构,后端,服务端,RocketMQ,MyCAT,分布式消息队列,分布式存储,技术博客,Sharding-JDBC,分库分表"><link rel="alternate" href="atom.xml" title="芋道源码 —— 纯源码解析博客" type="application/atom+xml"><link rel="icon" href="/images/favicon.ico"><link rel="stylesheet" href="/css/style.css"><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="//hm.baidu.com/hm.js?9e70e3362807c1bd185a79655b307027";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script>!function(){var t="http:"==document.location.protocol?"http://js.passport.qihucdn.com/11.0.1.js?f05b61dd54bbc38386611a5238672938":"https://jspassport.ssl.qhimg.com/11.0.1.js?f05b61dd54bbc38386611a5238672938";document.write('<script src="'+t+'" id="sozz"><\/script>')}()</script><script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script></head></html><body><header><div><div id="textlogo"><h1 class="site-name"><a href="/" title="芋道源码 —— 纯源码解析博客">芋道源码 —— 纯源码解析博客</a></h1><a class="blog-motto">愿半生编码，如一生老友！</a></div><div class="navbar"><a class="navbutton navmobile" href="#" title="菜单"></a></div><nav class="animated"><ul><ul><li><a href="/">文章</a></li><li><a href="/2018-meet-you">知识星球</a></li><li><a href="https://github.com/YunaiV" rel="external nofollow noopener noreferrer" target="_blank">Github</a></li><li><a href="http://www.iocoder.cn/images/common/wechat_mp_2017_07_31_bak.jpg">微信公众号</a></li><li><a href="/categories/%E5%B7%A5%E4%BD%9C%E5%86%85%E6%8E%A8/">工作内推</a></li><li><a href="/link_url">友链</a></li></ul></ul></nav></div></header><div id="container"><div id="main" class="post" itemscope="" itemprop="blogPost"><article itemprop="articleBody"><header class="article-info clearfix"><h1 itemprop="name"><a href="/Entity/item-module-item/" title="数据库实体设计 —— 商品（1.1）之商品信息" itemprop="url">数据库实体设计 —— 商品（1.1）之商品信息</a></h1><p class="article-author"></p><p class="article-time">总阅读量:<span id="busuanzi_value_page_pv"></span>次</p></header><div class="article-content"><p>摘要: 原创出处 <a href="http://www.iocoder.cn/Entity/item-module-item/">http://www.iocoder.cn/Entity/item-module-item/</a> 「芋道源码」欢迎转载，保留摘要，谢谢！</p><ul><li><a href="http://www.iocoder.cn/Entity/item-module-item/">1. 概述</a></li><li><a href="http://www.iocoder.cn/Entity/item-module-item/">2. 背景了解</a><ul><li><a href="http://www.iocoder.cn/Entity/item-module-item/">2.1 名词定义</a></li><li><a href="http://www.iocoder.cn/Entity/item-module-item/">2.2 界面</a></li></ul></li><li><a href="http://www.iocoder.cn/Entity/item-module-item/">3. 数据库实体</a><ul><li><a href="http://www.iocoder.cn/Entity/item-module-item/">3.1 Item</a></li><li><a href="http://www.iocoder.cn/Entity/item-module-item/">3.2 ItemSku</a></li><li><a href="http://www.iocoder.cn/Entity/item-module-item/">3.3 ItemSkuProperty</a></li></ul></li><li><a href="http://www.iocoder.cn/Entity/item-module-item/">4. API</a><ul><li><a href="http://www.iocoder.cn/Entity/item-module-item/">4.1 ItemAPI</a></li><li><a href="http://www.iocoder.cn/Entity/item-module-item/">4.2 ItemSkuAPI</a></li></ul></li><li><a href="http://www.iocoder.cn/Entity/item-module-item/">666. 彩蛋</a></li></ul><hr><p><img src="http://www.iocoder.cn/images/common/wechat_mp_2017_07_31.jpg" alt=""></p><blockquote><p>🙂🙂🙂关注<strong>微信公众号：【芋道源码】</strong>有福利：</p><ol><li>RocketMQ / MyCAT / Sharding-JDBC <strong>所有</strong>源码分析文章列表</li><li>RocketMQ / MyCAT / Sharding-JDBC <strong>中文注释源码 GitHub 地址</strong></li><li>您对于源码的疑问每条留言<strong>都</strong>将得到<strong>认真</strong>回复。<strong>甚至不知道如何读源码也可以请教噢</strong>。</li><li><strong>新的</strong>源码解析文章<strong>实时</strong>收到通知。<strong>每周更新一篇左右</strong>。</li><li><strong>认真的</strong>源码交流微信群。</li></ol></blockquote><hr><h1 id="1-概述"><a href="#1-概述" class="headerlink" title="1. 概述"></a>1. 概述</h1><p>本文主要分享<strong>商品模块的商品信息的数据库实体设计</strong>。</p><p>基于 <a href="https://www.youzanyun.com/apilist/list/group_item/item" rel="external nofollow noopener noreferrer" target="_blank">有赞云提供的商品API</a> 和 <a href="https://www.youzan.com/v2/showcase/goods/index#/" rel="external nofollow noopener noreferrer" target="_blank">有赞<strong>微商城</strong>的商品管理</a> 逆向猜测数据库实体。</p><blockquote><p>【护脸旁白】<br>笔者非电商行业出身 &amp;&amp; <strong>非有赞工程师</strong>，所以有错误或不合理的地方，烦请斧正和探讨。<br>有赞是个各方面都很 NICE 的公司，<a href="http://www.iocoder.cn/NeiTui/hangzhou/?self">推荐</a> 。</p></blockquote><h1 id="2-背景了解"><a href="#2-背景了解" class="headerlink" title="2. 背景了解"></a>2. 背景了解</h1><p>在看具体的数据库实体设计之前，我们先一起了解下<strong>电商的名词定义</strong>和<strong>有赞微商城界面</strong>。</p><h2 id="2-1-名词定义"><a href="#2-1-名词定义" class="headerlink" title="2.1 名词定义"></a>2.1 名词定义</h2><p>参考 <a href="https://www.zhihu.com/question/19841574" rel="external nofollow noopener noreferrer" target="_blank">《产品 SKU 是什么意思？与之相关的还有哪些？》</a> 整理。</p><p><strong>SKU：Stock Keeping Unit</strong></p><p>中文翻译为库存单位。SKU 从<strong>库存</strong>视角，以库存进出为单位，可以是件、瓶、箱等等。</p><p>例如，iPhone 手机，按照规格( 颜色 + 内存 )可以组合出如下多个 SKU ：</p><table><thead><tr><th>SKU</th><th>颜色</th><th>内存</th></tr></thead><tbody><tr><td>A</td><td>白色</td><td>16G</td></tr><tr><td>B</td><td>白色</td><td>64G</td></tr><tr><td>C</td><td>黑色</td><td>16G</td></tr><tr><td>D</td><td>黑色</td><td>64G</td></tr></tbody></table><p>可以看出，颜色（白色、黑色）与内存（16G、64G）组合排列出四种 iPhone SKU。</p><p><strong>SPU：Standard Product Unit</strong></p><p>中文翻译为标准产品单位。SPU 从<strong>产品</strong>视角，是产品信息聚合的<strong>最小单位</strong>，是一组可复用、易检索的标准化信息的集合，该集合描述了一个产品的特性。通俗点讲，属性值、特性相同的商品就可以被称为一个 SPU 。例如 iPhone 8 就是一个 SPU ，iPhone 8 Plus 也是一个 SPU ，这个与<strong>商家</strong>无关，与颜色、款式、套餐等<strong>规格</strong>无关。</p><p><strong>商品</strong>：</p><p>商家出售某个 SPU ，那么这就是一个商品。商品在 SPU 之上，增加了销售价格、促销活动、运费等等信息。另外，<strong>一个商品可以包含多个 SKU</strong>。</p><p><strong>总结</strong></p><p><img src="http://www.iocoder.cn/images/Entity/2018_01_18/24.png" alt=""></p><hr><p>现实的场景往往比定义复杂的多，在本文中，<strong>SKU 代表销售的单元</strong>。主要考虑如下两方面：</p><ul><li>实际我们看到的商品详情页，购买的是一个<strong>销售组合单元</strong>。例如，很多商家会打包 【iPhone X ：银色-64G-套餐三】，其中套餐三为赠送贴膜 + 保护壳等等，当然价格上会更贵。这明显就违背了我们上述提到 SKU 库存的概念，已经变成了多个 SKU 的销售组合单元。<img src="http://www.iocoder.cn/images/Entity/2018_01_18/01.png" alt=""></li><li>一个商家会在不同平台销售商品，例如三只松鼠，其在天猫、京东等等平台都有官方旗舰店，同时也供货给其他渠道商，那么实际关系会变成如下图所示：<img src="http://www.iocoder.cn/images/Entity/2018_01_18/02.png" alt=""> 通过这样的方式，三只松鼠在不同的平台，定义不同的价格，设置不同的促销信息等等个性化的运营。</li></ul><hr><p><strong>那么注意了</strong>！！！<br><strong>下文开始，SKU 代表销售的单元</strong><br><strong>下文开始，SKU 代表销售的单元</strong><br><strong>下文开始，SKU 代表销售的单元</strong></p><h2 id="2-2-界面"><a href="#2-2-界面" class="headerlink" title="2.2 界面"></a>2.2 界面</h2><ol><li>商城端-购买页 <img src="http://www.iocoder.cn/images/Entity/2018_01_18/03.png" alt=""></li><li>运营后台-商品发布页 <img src="http://www.iocoder.cn/images/Entity/2018_01_18/04.png" alt=""></li></ol><h1 id="3-数据库实体"><a href="#3-数据库实体" class="headerlink" title="3. 数据库实体"></a>3. 数据库实体</h1><p>整体实体类关系如下图：</p><p><img src="http://www.iocoder.cn/images/Entity/2018_01_18/05.png" alt=""></p><p>全部实体在 <a href="https://github.com/YunaiV/doraemon-entity/tree/5d6cf95894ed556d307c2188dd5fba89a4c97159/src/main/java/cn/iocoder/doraemon/itemgroup/item/entity" rel="external nofollow noopener noreferrer" target="_blank">Github 商品实体目录</a> 下可见。</p><h2 id="3-1-Item"><a href="#3-1-Item" class="headerlink" title="3.1 Item"></a>3.1 Item</h2><p><a href="https://github.com/YunaiV/doraemon-entity/blob/5d6cf95894ed556d307c2188dd5fba89a4c97159/src/main/java/cn/iocoder/doraemon/itemgroup/item/entity/Item.java" rel="external nofollow noopener noreferrer" target="_blank">Item</a> 字段较多，我们进行简单的切块。</p><h3 id="3-1-1-基础字段"><a href="#3-1-1-基础字段" class="headerlink" title="3.1.1 基础字段"></a>3.1.1 基础字段</h3><figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 编号</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer id;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 别名</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * 系统生成，作为唯一标识。例如，2fpa62tbmsl9h</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> String alias;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 店铺编号</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer shopId;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 创建时间</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Date createTime;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 更新时间</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Date updateTime;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 状态</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * 1-正常</span></div><div class="line"><span class="comment"> * 2-删除</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer status;</div></pre></td></tr></table></figure><ul><li><code>id</code> ，Item 编号，自增。数据类型是使用 Integer 还是 Long ，胖友可以根据自己的系统需要做调整。</li><li><code>alias</code> ，别名，系统自动生成，作为唯一标识。例如，<code>&quot;2fpa62tbmsl9h&quot;</code> 。目前有赞商城商品详情地址使用别名而不使用编号，防止无脑抓取。例如，<a href="https://h5.youzan.com/v2/goods/3f1o7jxm0gshh" rel="external nofollow noopener noreferrer" target="_blank">https://h5.youzan.com/v2/goods/3f1o7jxm0gshh</a> 。</li><li><code>shopId</code> ，店铺编号。有赞是基于 Sass 模式，支持多商户( 店铺 )。</li></ul><h3 id="3-1-2-基本信息"><a href="#3-1-2-基本信息" class="headerlink" title="3.1.2 基本信息"></a>3.1.2 基本信息</h3><figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 商品标题</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * 不能超过100字，受违禁词控制</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> String title;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 副标题，分享链接时显示</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> String summary;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 商品描述。</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * 字数要大于5个字符，小于25000个字符 ，受违禁词控制</span></div><div class="line"><span class="comment"> */</span></div><div class="line"> <span class="meta">@Deprecated</span></div><div class="line"><span class="keyword">private</span> String desc;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 商品分类的叶子类目编号</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * 有赞——店铺主营类目和商品类目对应表：https://bbs.youzan.com/forum.php?mod=viewthread&amp;tid=25252</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer cid;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 商品主图地址</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * 数组，以逗号分隔</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * 建议尺寸：800*800像素，你可以拖拽图片调整顺序，最多上传15张</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> String picURLs;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 商品类型</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * 0：普通商品（物流发货）</span></div><div class="line"><span class="comment"> * 3：UMP降价拍</span></div><div class="line"><span class="comment"> * 5：外卖商品</span></div><div class="line"><span class="comment"> * 10：分销商品</span></div><div class="line"><span class="comment"> * 20：会员卡商品</span></div><div class="line"><span class="comment"> * 21：礼品卡商品</span></div><div class="line"><span class="comment"> * 22：团购券</span></div><div class="line"><span class="comment"> * 25：批发商品</span></div><div class="line"><span class="comment"> * 30：收银台商品</span></div><div class="line"><span class="comment"> * 31：知识付费商品</span></div><div class="line"><span class="comment"> * 35：酒店商品（无需物流）</span></div><div class="line"><span class="comment"> * 40：美业商品</span></div><div class="line"><span class="comment"> * 60：虚拟商品（无需物流）</span></div><div class="line"><span class="comment"> * 61：电子卡券（无需物流）</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer itemType;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 商品类型</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * 0：自营商品</span></div><div class="line"><span class="comment"> * 10：分销商品</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer goodsType;</div></pre></td></tr></table></figure><ul><li><code>desc</code> ，商品描述，HTML 富文本。<strong>考虑到数据库性能，单独成 ItemContent 表</strong>，在 <a href="http://www.iocoder.cn/Entity/item-module-content">《数据库实体设计 —— 商品（1.2）之商品详情》</a> 有详细分享。</li><li><code>cid</code> ，商品分类的叶子类目编号。有赞——店铺主营类目和商品类目对应表：<a href="https://bbs.youzan.com/forum.php?mod=viewthread&amp;tid=25252" rel="external nofollow noopener noreferrer" target="_blank">https://bbs.youzan.com/forum.php?mod=viewthread&amp;tid=25252</a> 。</li><li><code>itemType</code> ，商品类型。不同的商品类型，会有相关的自定义逻辑。</li><li><code>goodsType</code> ，商品类型（已经不知道咋翻译好，和 <code>itemType</code> 无关系）。店铺可以从<a href="https://www.youzan.com/v2/fenxiao/market/index" rel="external nofollow noopener noreferrer" target="_blank">分销市场</a>引入其他店铺的商品进行分销。TODO 6002：商品分销文章解析。<img src="http://www.iocoder.cn/images/Entity/2018_01_18/06.png" alt=""></li></ul><h3 id="3-1-3-价格库存"><a href="#3-1-3-价格库存" class="headerlink" title="3.1.3 价格库存"></a>3.1.3 价格库存</h3><figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 价格，单位分</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer price;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 商品重量，没有SKU时用</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Double itemWeight;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 商品货号（商家为商品设置的外部编号）</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> String itemNo;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 总库存</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * 基于 sku 的库存数量累加</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer quantity;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 总销量</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer soldNum;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 是否隐藏商品库存。在商品展示时不显示商品的库存。</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * 0 - 显示库存（默认）</span></div><div class="line"><span class="comment"> * 1 - 不显示库存</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer hideStock;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 商品划线价格，可以自定义。例如 促销价：888</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * 商品没有优惠的情况下，划线价在商品详情会以划线形式显示。</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Double originPrice;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 是否参加会员折扣。</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * 1 - 参加会员折扣（默认）</span></div><div class="line"><span class="comment"> * 0 - 不参加会员折扣</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer joinLevelDiscount;</div></pre></td></tr></table></figure><ul><li>Item SKU 相关，有赞分成两种情况：<ul><li>第一种，无 SKU 的情况，<code>price</code>、<code>itemWeight</code>、<code>quantity</code>、<code>soldNum</code>、<code>itemNo</code> 对应这个商品的价格库存等信息。</li><li>第二种，有 SKU 的情况，<code>price</code>、<code>itemWeight</code>、<code>quantity</code>、<code>soldNum</code>、<code>itemNo</code> 对应这个商品 SKU 的整体情况。其中，<code>price</code> 对应 SKU 最低价格。</li><li>ps：关于第一种的情况，也可以通过<strong>虚拟没有规格的 SKU</strong>，这样和第二种的情况就可以等价了。</li></ul></li><li><code>price</code> ，价格，单位为<strong>分</strong>，避免 Double 在根据营销优惠信息计算价格时，精度丢失。<strong>注意</strong>，如果胖友一定要使用单位为<strong>元</strong>，在 Java 里请使用 BigDecimal 。</li><li><code>joinLevelDiscount</code> ，是否参加会员折扣。有赞支持会员卡功能，可以对商品进行优惠打折。<img src="http://www.iocoder.cn/images/Entity/2018_01_18/07.png" alt=""></li><li><code>itemNo</code> ，商品货号。商家为商品设置的外部编号，例如，ERP 系统。<strong>通过该字段，打通不同系统的信息</strong>。</li></ul><h3 id="3-1-4-运费信息"><a href="#3-1-4-运费信息" class="headerlink" title="3.1.4 运费信息"></a>3.1.4 运费信息</h3><figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 运费类型</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer postType;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 运费，单位分</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer postFee;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 运费模版id</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer deliveryTemplateId;</div></pre></td></tr></table></figure><ul><li>根据不同的 <code>postType</code> ，使用 <code>postFee</code> 或 <code>deliveryTemplateId</code> 。<img src="http://www.iocoder.cn/images/Entity/2018_01_18/08.png" alt=""> 运费模板的操作见 ：<a href="https://help.youzan.com/qa#/menu/2119/detail/994?_k=kdpjx9" rel="external nofollow noopener noreferrer" target="_blank">《如何设置运费模版（按件按重量）？》</a> 文章。</li></ul><h3 id="3-1-5-其他信息"><a href="#3-1-5-其他信息" class="headerlink" title="3.1.5 其他信息"></a>3.1.5 其他信息</h3><figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 是否上架商品。</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * true 为已上架</span></div><div class="line"><span class="comment"> * false 为已下架</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Boolean isListing;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 排序字段</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer order;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 开始出售时间。</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * 没设置则为空</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Date autoListingTime;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 商品是否锁定。</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * true 为已锁定</span></div><div class="line"><span class="comment"> * false 为未锁定</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Boolean isLock;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 留言表单数组配置</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * JSON 字符串 [&#123;</span></div><div class="line"><span class="comment"> *     name: // 表单名，String</span></div><div class="line"><span class="comment"> *     required: // 是否必填，Integer，1-必填；0-选填</span></div><div class="line"><span class="comment"> *     type: // 表单类型，String，枚举：文本格式/数字格式/邮件/日期/时间/身份证号/图片</span></div><div class="line"><span class="comment"> *     multiple: // 是否多行，Integer，1-多行，0-单行</span></div><div class="line"><span class="comment"> *     datetime：// 是否包含日期，用于 `type=时间`</span></div><div class="line"><span class="comment"> * &#125;]</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> String messages;</div></pre></td></tr></table></figure><ul><li><code>isListing</code> ，是否上架商品。<ul><li><code>true</code> ，已上架，用户可见，直到售罄( <code>quantity = 0</code> )。售罄时，该状态不变，通过库存判断。</li><li><code>false</code> ，已下架，在仓库，用户不可见。</li><li><img src="http://www.iocoder.cn/images/Entity/2018_01_18/09.png" alt=""></li></ul></li><li><code>order</code> ，排序字段。手动填写数字设置，序号越大越靠前。<img src="http://www.iocoder.cn/images/Entity/2018_01_18/10.png" alt=""></li><li><code>messages</code> ，留言表单数组配置。<img src="http://www.iocoder.cn/images/Entity/2018_01_18/12.png" alt=""> <img src="http://www.iocoder.cn/images/Entity/2018_01_18/13.png" alt=""></li></ul><h3 id="3-1-6-ItemEtd"><a href="#3-1-6-ItemEtd" class="headerlink" title="3.1.6 ItemEtd"></a>3.1.6 ItemEtd</h3><p><a href="https://github.com/YunaiV/doraemon-entity/blob/5d6cf95894ed556d307c2188dd5fba89a4c97159/src/main/java/cn/iocoder/doraemon/itemgroup/item/entity/ItemEtd.java" rel="external nofollow noopener noreferrer" target="_blank">ItemEtd</a>，预售扩展信息</p><figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * Item 编号</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * &#123;<span class="doctag">@link</span> Item#id&#125;</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer id;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 发货类型</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * 0 - xxx 时间开始发货</span></div><div class="line"><span class="comment"> * 1 - 付款 n 天后发货。</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer etdType;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 预计发货开始时间, 字符串格式的时间，格式如：2018-01-01</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer etdstartTime;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 预计发货结束时间, 字符串格式的时间，格式如：2018-01-01</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer etdEndTime;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 付款成功 后发货天数, 默认0</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer etdDays;</div></pre></td></tr></table></figure><ul><li><a href="https://bbs.youzan.com/forum.php?mod=viewthread&amp;tid=593751" rel="external nofollow noopener noreferrer" target="_blank">《预售界面优化及新增N天后发货，适合更多预售场景》</a></li><li>通过 Item 的 <a href="https://github.com/YunaiV/doraemon-entity/blob/5d6cf95894ed556d307c2188dd5fba89a4c97159/src/main/java/cn/iocoder/doraemon/itemgroup/item/entity/Item.java#L218" rel="external nofollow noopener noreferrer" target="_blank"><code>etdStatus</code></a> 字段，开启和关闭预售功能。</li><li><code>id</code> ，Item 编号，1：1 指向对应的 Item 。</li><li>根据不同的 <code>etdType</code> ，使用 <code>etdstartTime</code>/<code>etdEndTime</code> 或 <code>etdDays</code> 。<img src="http://www.iocoder.cn/images/Entity/2018_01_18/14.png" alt=""></li></ul><h3 id="3-1-7-ItemFenxiao"><a href="#3-1-7-ItemFenxiao" class="headerlink" title="3.1.7 ItemFenxiao"></a>3.1.7 ItemFenxiao</h3><p><a href="https://github.com/YunaiV/doraemon-entity/blob/5d6cf95894ed556d307c2188dd5fba89a4c97159/src/main/java/cn/iocoder/doraemon/itemgroup/item/entity/ItemEtd.java" rel="external nofollow noopener noreferrer" target="_blank">ItemFenxiao</a>，分销扩展信息</p><figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * Item 编号</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * &#123;<span class="doctag">@link</span> Item#id&#125;</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer id;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 供货店铺Id</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Long supplierShopId;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 供货商品Id</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Long supplierItemId;</div></pre></td></tr></table></figure><ul><li>通过 Item 的 <code>goodsType = 10</code> 判断为分销商品。</li><li><code>id</code> ，Item 编号，1：1 指向对应的 Item 。</li></ul><h3 id="3-1-8-ItemPurchaseRight"><a href="#3-1-8-ItemPurchaseRight" class="headerlink" title="3.1.8 ItemPurchaseRight"></a>3.1.8 ItemPurchaseRight</h3><p><a href="https://github.com/YunaiV/doraemon-entity/blob/5d6cf95894ed556d307c2188dd5fba89a4c97159/src/main/java/cn/iocoder/doraemon/itemgroup/item/entity/ItemPurchaseRight.java" rel="external nofollow noopener noreferrer" target="_blank">ItemPurchaseRight</a>，购买权限拓展信息</p><figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * Item 编号</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * &#123;<span class="doctag">@link</span> Item#id&#125;</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer id;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 允许购买的粉丝标签用,号分隔</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * 数组，以逗号分隔</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> String umpTags;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 允许购买的粉丝等级，用逗号分隔</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> String umpLevels;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 每人限购多少件。0代表无限购，默认为0</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer buyQuota;</div></pre></td></tr></table></figure><ul><li>通过 Item 的 <a href="https://github.com/YunaiV/doraemon-entity/blob/5d6cf95894ed556d307c2188dd5fba89a4c97159/src/main/java/cn/iocoder/doraemon/itemgroup/item/entity/Item.java#L222" rel="external nofollow noopener noreferrer" target="_blank"><code>purchaseRightStatus</code></a> 字段，开启和关闭商品购买权限。</li><li><code>id</code> ，Item 编号，1：1 指向对应的 Item 。</li><li><img src="http://www.iocoder.cn/images/Entity/2018_01_18/15.png" alt=""></li></ul><h2 id="3-2-ItemSku"><a href="#3-2-ItemSku" class="headerlink" title="3.2 ItemSku"></a>3.2 ItemSku</h2><p><a href="https://github.com/YunaiV/doraemon-entity/blob/5d6cf95894ed556d307c2188dd5fba89a4c97159/src/main/java/cn/iocoder/doraemon/itemgroup/item/entity/ItemSku.java" rel="external nofollow noopener noreferrer" target="_blank">ItemSku</a>，商品 SKU 。</p><p><img src="http://www.iocoder.cn/images/Entity/2018_01_18/21.png" alt=""></p><figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 唯一编码，店铺Id 和 商品skuId 组合</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * 分销场景下，skuId 多个店铺相同，uniqueCode 不同</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> String uniqueCode;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * sku 编号</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * 非唯一</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer skuId;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 商品编号</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer itemId;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 店铺编号</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer shopId;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 状态</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * 1-正常</span></div><div class="line"><span class="comment"> * 2-删除</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer status;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 图片地址</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> String imageURL;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 商品规格</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * 格式：kid[0]-vid[0],kid[1]-vid[1]...kid[n]-vid[n]</span></div><div class="line"><span class="comment"> * 例如：20000-3275069,1753146-3485013</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> String properties;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 商品货号（商家为商品设置的外部编号）</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> String itemNo;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 价格，单位分</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer price;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 库存数量</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer quantity;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 商品在付款减库存的状态下，该Sku上未付款的订单数量</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer withHoldQuantity;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 销量</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer soldNum;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 创建时间</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Date createTime;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 更新时间</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Date updateTime;</div></pre></td></tr></table></figure><ul><li><code>uniqueCode</code> ，SKU <strong>唯一</strong>编码，格式为 <code>${shopId}${skuId}</code>。<strong>注意</strong>，在分销场景下，引入商品的 <code>skuId</code> <strong>相同</strong>，而 <code>shopId</code> 不同。通过该字段，保证<strong>唯一引入</strong>。</li><li><code>skuId</code> ，SKU 编号，自增，非唯一，参见分销场景。</li><li><code>itemId</code> ，Item 编号，N：1 指向对应的 Item 。</li><li><code>status</code> ，SKU 状态。编辑商品时，当规格属性发生变化时，优先重用( 保留 )<strong>正常</strong>状态的 SKU ，标记删除移除的 SKU ，例如：<ul><li>颜色：红；尺寸：X、L；</li><li>SKU 如下：<ul><li>【1】红-X</li><li>【2】红-L</li></ul></li><li>————— 分隔 —————</li><li>新增颜色，蓝；</li><li>SKU 如下：<ul><li>【1】红-X</li><li>【2】红-L</li><li>【3】蓝-X</li><li>【4】蓝-L</li></ul></li><li>————— 分隔 ——————</li><li>删除颜色，红；</li><li>SKU 如下：<ul><li>【3】蓝-X</li><li>【4】蓝-L</li></ul></li></ul></li><li><code>properties</code> ，商品规格，字符串拼接格式。<ul><li>绝大多数情况下，数据库里的该字段，不存在检索的需求，更多的时候，是查询整体记录，在内存中解析使用。</li><li>少部分情况，灵活的检索，使用 Elasticsearch 进行解决。</li></ul></li><li><code>quantity</code> ，库存数量。在分销场景下，因为 <code>skuId</code> 相同，所以根据 <code>skuId</code> 可以批量修改，解决分销库存的同步问题。</li><li><code>withHoldQuantity</code> ，商品在付款减库存的状态下( 例如秒杀场景 )，该 SKU 上未付款的订单数量。</li><li><code>itemNo</code> ，商品货号。商家为商品设置的外部编号，例如，ERP 系统。<strong>通过该字段，打通不同系统的信息</strong>。</li></ul><h2 id="3-3-ItemSkuProperty"><a href="#3-3-ItemSkuProperty" class="headerlink" title="3.3 ItemSkuProperty"></a>3.3 ItemSkuProperty</h2><p><a href="https://github.com/YunaiV/doraemon-entity/blob/5d6cf95894ed556d307c2188dd5fba89a4c97159/src/main/java/cn/iocoder/doraemon/itemgroup/item/entity/ItemSkuProperty.java" rel="external nofollow noopener noreferrer" target="_blank">ItemSkuProperty</a>，Item SKU 规格属性。</p><figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ItemSkuProperty</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line"><span class="comment">     * 属性编号</span></div><div class="line"><span class="comment">     */</span></div><div class="line">    <span class="keyword">private</span> Integer id;</div><div class="line">    <span class="comment">/**</span></div><div class="line"><span class="comment">     * 属性文本</span></div><div class="line"><span class="comment">     */</span></div><div class="line">    <span class="keyword">private</span> String name;</div><div class="line">    <span class="comment">/**</span></div><div class="line"><span class="comment">     * 添加时间</span></div><div class="line"><span class="comment">     */</span></div><div class="line">    <span class="keyword">private</span> Date addTime;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure><ul><li><code>id</code> ，属性编号。</li><li><code>name</code> ，属性文本。<strong>注意</strong>，当规格名( PropertyKey )和规格值( PropertyValue )使用相同文本，对应的编号相同。例如，<img src="http://www.iocoder.cn/images/Entity/2018_01_18/16.png" alt=""></li><li>PropertyKey 与 PropertyValue 通过 <a href="#">「3.3.2 ItemSkuPropertyValueReference」</a> 关联。</li></ul><p>有赞的规格属性，这样的设定感觉有丢丢怪怪的，笔者后面调研了淘宝和微店的 Item SKU 规格属性的设计。</p><hr><p>微店</p><p><img src="http://www.iocoder.cn/images/Entity/2018_01_18/17.png" alt=""></p><p>分成 ItemSkuPropertyKey 和 ItemSkuPropertyValue 两个表，并且 ItemSkuPropertyValue 相同字符串时，不同编号。</p><hr><p>淘宝</p><p><strong>不同类目固定可选的商品规格名，并且部分商品规格不能自定义规格值</strong>。</p><ul><li>男装&gt;&gt;背心/马甲 <img src="http://www.iocoder.cn/images/Entity/2018_01_18/18.png" alt=""></li><li>箱包皮具/热销女包/男包&gt;&gt;卡包 <img src="http://www.iocoder.cn/images/Entity/2018_01_18/19.png" alt=""></li></ul><p>不同于有赞、微店，淘宝、京东是支持全平台进行检索，而有赞、微店是没有这方面的需求。</p><p><img src="http://www.iocoder.cn/images/Entity/2018_01_18/20.png" alt=""></p><p><strong>那么规格和类目做关联一定合适么</strong>？笔者觉得不一定。类目和规格的关联整理是非常大的工作量，一旦整理缺失，反倒给上架带来不好的体验。而且，有赞、微店存在较多微商，非标的商品较多，需要更多灵活的空间。</p><p>另外，淘宝商品的属性拆分的很细，猜测分成如下：</p><ul><li>是否是规格属性</li><li>是否是搜索属性</li><li>是否是基本属性</li><li>… TODO 6003<br>淘宝属性研究 <a href="https://open.taobao.com/docs/api.htm?spm=a219a.7629065.0.0.6yhiZN&amp;apiId=4" rel="external nofollow noopener noreferrer" target="_blank">https://open.taobao.com/docs/api.htm?spm=a219a.7629065.0.0.6yhiZN&amp;apiId=4</a></li></ul><p>同时，属性的类型除了包括选项完，也可以是文本、数值、百分比等等。</p><p><img src="http://www.iocoder.cn/images/Entity/2018_01_18/25.png" alt=""></p><hr><p>推荐阅读 <a href="http://www.cnblogs.com/winstonyan/archive/2011/12/17/b2c_research_product_sku_analyse_design.html#3818610" rel="external nofollow noopener noreferrer" target="_blank">《B2C电子商务系统研发——商品SKU分析和设计（一）》</a> ，里面对SKU属性的管理做了很有借鉴性的思考。</p><h3 id="3-3-1-ItemSkuPropertyKeyReference"><a href="#3-3-1-ItemSkuPropertyKeyReference" class="headerlink" title="3.3.1 ItemSkuPropertyKeyReference"></a>3.3.1 ItemSkuPropertyKeyReference</h3><p><a href="https://github.com/YunaiV/doraemon-entity/blob/5d6cf95894ed556d307c2188dd5fba89a4c97159/src/main/java/cn/iocoder/doraemon/itemgroup/item/entity/ItemSkuPropertyKeyReference.java" rel="external nofollow noopener noreferrer" target="_blank">ItemSkuPropertyKeyReference</a> ，Item SKU 规格名引用。用于和店铺关联，不同店铺有不同的规格名引用数据。</p><figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 编号</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer id;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 店铺编号</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer shopId;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 属性键编号</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * &#123;<span class="doctag">@link</span> ItemSkuProperty#id&#125;</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer keyId;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 添加时间</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Date addTime;</div></pre></td></tr></table></figure><h3 id="3-3-2-ItemSkuPropertyValueReference"><a href="#3-3-2-ItemSkuPropertyValueReference" class="headerlink" title="3.3.2 ItemSkuPropertyValueReference"></a>3.3.2 ItemSkuPropertyValueReference</h3><p><a href="https://github.com/YunaiV/doraemon-entity/blob/5d6cf95894ed556d307c2188dd5fba89a4c97159/src/main/java/cn/iocoder/doraemon/itemgroup/item/entity/ItemSkuPropertyValueReference.java" rel="external nofollow noopener noreferrer" target="_blank">ItemSkuPropertyValueReference</a> ，Item SKU 规格值引用。用于和店铺关联，不同店铺有不同的规格值引用数据。</p><figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 编号</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer id;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 店铺编号</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer shopId;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 关联编号</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * &#123;<span class="doctag">@link</span> ItemSkuPropertyKeyReference#id&#125;</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer referenceId;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 属性键编号</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * &#123;<span class="doctag">@link</span> ItemSkuProperty#id&#125;</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer keyId;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 属性值编号</span></div><div class="line"><span class="comment"> *</span></div><div class="line"><span class="comment"> * &#123;<span class="doctag">@link</span> ItemSkuProperty#id&#125;</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Integer valueId;</div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * 添加时间</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="keyword">private</span> Date addTime;</div></pre></td></tr></table></figure><h1 id="4-API"><a href="#4-API" class="headerlink" title="4. API"></a>4. API</h1><p>基于 <a href="https://www.youzanyun.com/apilist/list/group_item/item" rel="external nofollow noopener noreferrer" target="_blank">有赞云提供的商品API</a> ，整理如下 API 类。</p><h2 id="4-1-ItemAPI"><a href="#4-1-ItemAPI" class="headerlink" title="4.1 ItemAPI"></a>4.1 ItemAPI</h2><p><a href="https://github.com/YunaiV/doraemon-entity/blob/5d6cf95894ed556d307c2188dd5fba89a4c97159/src/main/java/cn/iocoder/doraemon/itemgroup/item/ItemAPI.java" rel="external nofollow noopener noreferrer" target="_blank">ItemAPI</a> ，商品 API 。</p><p><img src="http://www.iocoder.cn/images/Entity/2018_01_18/22.png" alt=""></p><h2 id="4-2-ItemSkuAPI"><a href="#4-2-ItemSkuAPI" class="headerlink" title="4.2 ItemSkuAPI"></a>4.2 ItemSkuAPI</h2><p><a href="https://github.com/YunaiV/doraemon-entity/blob/5d6cf95894ed556d307c2188dd5fba89a4c97159/src/main/java/cn/iocoder/doraemon/itemgroup/item/ItemSkuAPI.java" rel="external nofollow noopener noreferrer" target="_blank">ItemSkuAPI</a> ，商品 SKU API 。</p><p><img src="http://www.iocoder.cn/images/Entity/2018_01_18/23.png" alt=""></p><h1 id="666-彩蛋"><a href="#666-彩蛋" class="headerlink" title="666. 彩蛋"></a>666. 彩蛋</h1><p>第一次尝试写这种类型的文章，如果内容有错误的地方，烦请斧正。如果有写的不详细或者不明白的地方，欢迎一起探讨。</p><p>推荐与参考文章：</p><ul><li><a href="https://www.zhihu.com/question/19841574" rel="external nofollow noopener noreferrer" target="_blank">《产品 SKU 是什么意思？与之相关的还有哪些？》</a></li><li><a href="https://www.zhihu.com/question/27607346" rel="external nofollow noopener noreferrer" target="_blank">《关于电商网站数据库的设计？》</a></li><li><a href="http://www.cnblogs.com/winstonyan/archive/2011/12/16/b2c_research_product_er_model.html" rel="external nofollow noopener noreferrer" target="_blank">《B2C电子商务系统研发——商品模块E-R图建模》</a></li><li><a href="http://www.cnblogs.com/winstonyan/archive/2011/12/17/b2c_research_product_sku_analyse_design.html#3818610" rel="external nofollow noopener noreferrer" target="_blank">《B2C电子商务系统研发——商品SKU分析和设计（一）》</a></li><li><a href="http://www.cnblogs.com/winstonyan/archive/2012/01/07/b2c_research_product_sku_analyse_design2.html#3841576" rel="external nofollow noopener noreferrer" target="_blank">《B2C电子商务系统研发——商品SKU分析和设计（二）》</a></li></ul></div><footer class="article-footer clearfix"><div class="article-categories"><span></span> <a class="article-category-link" href="/categories/数据库实体设计/">数据库实体设计</a></div><div class="article-share" id="share"><div data-url="http://www.iocoder.cn/Entity/item-module-item/" data-title="数据库实体设计 —— 商品（1.1）之商品信息 | 芋道源码 —— 纯源码解析博客" data-tsina="null" class="share clearfix"></div></div></footer></article><nav class="article-nav clearfix"><div class="prev"><a href="/Weekdays/2018-01-20/" title="芋道源码的周八（2018.01.20）"><strong>PREVIOUS:</strong><br><span>芋道源码的周八（2018.01.20）</span></a></div><div class="next"><a href="/Elastic-Job/cloud-high-availability/" title="Elastic-Job-Cloud 源码分析 —— 高可用"><strong>NEXT:</strong><br><span>Elastic-Job-Cloud 源码分析 —— 高可用</span></a></div></nav></div><div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div><div id="toc" class="toc-aside"><strong class="toc-title">文章目录</strong><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-概述"><span class="toc-number">1.</span> <span class="toc-text">1. 概述</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-背景了解"><span class="toc-number">2.</span> <span class="toc-text">2. 背景了解</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-名词定义"><span class="toc-number">2.1.</span> <span class="toc-text">2.1 名词定义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-界面"><span class="toc-number">2.2.</span> <span class="toc-text">2.2 界面</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-数据库实体"><span class="toc-number">3.</span> <span class="toc-text">3. 数据库实体</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-Item"><span class="toc-number">3.1.</span> <span class="toc-text">3.1 Item</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-1-基础字段"><span class="toc-number">3.1.1.</span> <span class="toc-text">3.1.1 基础字段</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-2-基本信息"><span class="toc-number">3.1.2.</span> <span class="toc-text">3.1.2 基本信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-3-价格库存"><span class="toc-number">3.1.3.</span> <span class="toc-text">3.1.3 价格库存</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-4-运费信息"><span class="toc-number">3.1.4.</span> <span class="toc-text">3.1.4 运费信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-5-其他信息"><span class="toc-number">3.1.5.</span> <span class="toc-text">3.1.5 其他信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-6-ItemEtd"><span class="toc-number">3.1.6.</span> <span class="toc-text">3.1.6 ItemEtd</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-7-ItemFenxiao"><span class="toc-number">3.1.7.</span> <span class="toc-text">3.1.7 ItemFenxiao</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-8-ItemPurchaseRight"><span class="toc-number">3.1.8.</span> <span class="toc-text">3.1.8 ItemPurchaseRight</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-ItemSku"><span class="toc-number">3.2.</span> <span class="toc-text">3.2 ItemSku</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-ItemSkuProperty"><span class="toc-number">3.3.</span> <span class="toc-text">3.3 ItemSkuProperty</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-1-ItemSkuPropertyKeyReference"><span class="toc-number">3.3.1.</span> <span class="toc-text">3.3.1 ItemSkuPropertyKeyReference</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-2-ItemSkuPropertyValueReference"><span class="toc-number">3.3.2.</span> <span class="toc-text">3.3.2 ItemSkuPropertyValueReference</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-API"><span class="toc-number">4.</span> <span class="toc-text">4. API</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1-ItemAPI"><span class="toc-number">4.1.</span> <span class="toc-text">4.1 ItemAPI</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2-ItemSkuAPI"><span class="toc-number">4.2.</span> <span class="toc-text">4.2 ItemSkuAPI</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#666-彩蛋"><span class="toc-number">5.</span> <span class="toc-text">666. 彩蛋</span></a></li></ol></div><div id="asidepart"><aside class="clearfix"><div id="authorInfo"><div><img width="100%" src="/images/common/wechat_mp_2017_07_31_bak.jpg"></div><div class="social-list"></div></div><div class="categorieslist"><p class="asidetitle">微信公众号福利：芋道源码</p><ul><li><a href="/images/common/wechat_mp_2017_07_31_bak.jpg">0. 阅读源码葵花宝典</a></li><li><a href="/images/common/wechat_mp_2017_07_31_bak.jpg">1. RocketMQ / MyCAT / Sharding-JDBC 详细中文注释源码</a></li><li><a href="/images/common/wechat_mp_2017_07_31_bak.jpg">2. 您对于源码的疑问每条留言都将得到认真回复</a></li><li><a href="/images/common/wechat_mp_2017_07_31_bak.jpg">3. 新的源码解析文章实时收到通知，每周六十点更新</a></li><li><a href="/images/common/wechat_mp_2017_07_31_bak.jpg">4. 认真的源码交流微信群</a></li></ul></div><div class="categorieslist"><p class="asidetitle">分类</p><ul><li><a href="/categories/Docker/" title="Docker">Docker<sup>2</sup></a></li><li><a href="/categories/Dubbo/" title="Dubbo">Dubbo<sup>1</sup></a></li><li><a href="/categories/Elastic-Job-Cloud/" title="Elastic-Job-Cloud">Elastic-Job-Cloud<sup>6</sup></a></li><li><a href="/categories/Elastic-Job-Lite/" title="Elastic-Job-Lite">Elastic-Job-Lite<sup>16</sup></a></li><li><a href="/categories/Eureka/" title="Eureka">Eureka<sup>23</sup></a></li><li><a href="/categories/Happylifeplat-TCC/" title="Happylifeplat-TCC">Happylifeplat-TCC<sup>1</sup></a></li><li><a href="/categories/Hystrix/" title="Hystrix">Hystrix<sup>9</sup></a></li><li><a href="/categories/JUC/" title="JUC">JUC<sup>1</sup></a></li><li><a href="/categories/MyCAT/" title="MyCAT">MyCAT<sup>9</sup></a></li><li><a href="/categories/Myth/" title="Myth">Myth<sup>1</sup></a></li><li><a href="/categories/Nginx/" title="Nginx">Nginx<sup>1</sup></a></li><li><a href="/categories/RocketMQ/" title="RocketMQ">RocketMQ<sup>14</sup></a></li><li><a href="/categories/RxJava/" title="RxJava">RxJava<sup>5</sup></a></li><li><a href="/categories/Sharding-JDBC/" title="Sharding-JDBC">Sharding-JDBC<sup>18</sup></a></li><li><a href="/categories/SkyWalking/" title="SkyWalking">SkyWalking<sup>35</sup></a></li><li><a href="/categories/Spring/" title="Spring">Spring<sup>1</sup></a></li><li><a href="/categories/Spring-Cloud-Gateway/" title="Spring-Cloud-Gateway">Spring-Cloud-Gateway<sup>24</sup></a></li><li><a href="/categories/Spring-MVC/" title="Spring-MVC">Spring-MVC<sup>1</sup></a></li><li><a href="/categories/Spring-Security/" title="Spring-Security">Spring-Security<sup>1</sup></a></li><li><a href="/categories/TCC-Transaction/" title="TCC-Transaction">TCC-Transaction<sup>7</sup></a></li><li><a href="/categories/TiKV/" title="TiKV">TiKV<sup>2</sup></a></li><li><a href="/categories/工作内推/" title="工作内推">工作内推<sup>4</sup></a></li><li><a href="/categories/技术杂文/" title="技术杂文">技术杂文<sup>5</sup></a></li><li><a href="/categories/数据库实体设计/" title="数据库实体设计">数据库实体设计<sup>4</sup></a></li><li><a href="/categories/芋道源码的周八/" title="芋道源码的周八">芋道源码的周八<sup>4</sup></a></li></ul></div></aside></div></div><footer><div id="footer"><img src="http://www.iocoder.cn/images/common/wechat_mp_simple.png" style="display:none"><p class="copyright">© 2018 <a href="http://www.iocoder.cn" target="_blank" title="芋道源码">芋道源码</a> && <span style="display:inline" id="busuanzi_container_site_uv">总访客数 <span id="busuanzi_value_site_uv" font="微软雅黑"></span> 次</span> && <span style="display:inline" id="busuanzi_container_site_pv">总访问量 <span id="busuanzi_value_site_pv" font="微软雅黑"></span> 次</span></p></div><div class="copyright">沪ICP备17037075号-1</div></footer><script src="/js/jquery-2.1.0.min.js"></script><script type="text/javascript">$(document).ready(function(){function e(){"number"==typeof window.innerWidth?n=window.innerWidth:document.documentElement&&document.documentElement.clientWidth&&(n=document.documentElement.clientWidth)}$(".navbar").click(function(){$("header nav").toggleClass("shownav")});var n=0,s=$("#main"),a=$("#asidepart"),o=$(".closeaside"),d=$(".openaside");$(window).resize(function(){e(),n>=1024?$("header nav").removeClass("shownav"):(s.removeClass("moveMain"),a.css("display","block").removeClass("fadeOut"),d.css("display","none"),$("#toc.toc-aside").css("display","none"))}),o.click(function(){a.addClass("fadeOut").css("display","none"),d.css("display","block").addClass("fadeIn"),s.addClass("moveMain")}),d.click(function(){d.css("display","none").removeClass("beforeFadeIn"),a.css("display","block").removeClass("fadeOut").addClass("fadeIn"),s.removeClass("moveMain")}),$(window).scroll(function(){d.css("top",Math.max(80,260-$(this).scrollTop()))})})</script><script type="text/javascript">$(document).ready(function(){var a=$(".article-content>iframe"),t=$(".article-content>embed"),n=$("#toc");$("article h2"),ah=$("article h2"),ta=$("#toc.toc-aside"),o=$(".openaside"),c=$(".closeaside"),a.length>0&&a.wrap('<div class="video-container" />'),t.length>0&&t.wrap('<div class="video-container" />'),0==ah.length?n.css("display","none"):(c.click(function(){ta.css("display","block").addClass("fadeIn")}),o.click(function(){ta.css("display","none")}),$(window).scroll(function(){ta.css("top",Math.max(140,320-$(this).scrollTop()))}))})</script><script type="text/javascript">$(document).ready(function(){var t=$(".share"),a=t.attr("data-url"),e=encodeURIComponent(a),r=['<a href="#" class="overlay" id="qrcode"></a>','<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#share"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url='+e+'"/></div>','<a href="#textlogo" class="article-back-to-top" title="Top"></a>','<a href="https://www.facebook.com/sharer.php?u='+e+'" class="article-share-facebook" target="_blank" title="Facebook"></a>','<a href="#qrcode" class="article-share-qrcode" title="QRcode"></a>','<a href="https://twitter.com/intent/tweet?url='+e+'" class="article-share-twitter" target="_blank" title="Twitter"></a>','<a href="http://service.weibo.com/share/share.php?title='+t.attr("data-title")+"&url="+e+"&ralateUid="+t.attr("data-tsina")+'&searchPic=true&style=number" class="article-share-weibo" target="_blank" title="Weibo"></a>','<span title="Share to"></span>'].join("");t.append(r),$(".article-share-qrcode").click(function(){var t=$("#qrcode-pic").attr("data-src");$("#qrcode-pic").attr("src",t),$("#qrcode-pic").load(function(){$(".qrcode strong").text(" ")})})})</script><link rel="stylesheet" href="/alert/css/alert.css"><script src="/alert/js/alert.js"></script><script src="/js/jquery.cookie.js"></script><script src="/js/util.js"></script><script type="text/javascript">!function(e,a,t,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(t),s=a.getElementsByTagName(t)[0],o.async=1,o.src="//www.google-analytics.com/analytics.js",s.parentNode.insertBefore(o,s)}(window,document,"script",0,"ga"),ga("create","UA-107572620-1","auto"),ga("send","pageview")</script></body>