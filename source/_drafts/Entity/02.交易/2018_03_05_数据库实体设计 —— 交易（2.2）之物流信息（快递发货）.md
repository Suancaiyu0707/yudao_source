title: æ•°æ®åº“å®ä½“è®¾è®¡ â€”â€” äº¤æ˜“ï¼ˆ2.2ï¼‰ä¹‹ç‰©æµä¿¡æ¯ï¼ˆå¿«é€’å‘è´§ï¼‰
date: 2018-03-05
tags:
categories: æ•°æ®åº“å®ä½“è®¾è®¡
permalink: Entity/trade-module-deliver-express

-------

æ‘˜è¦: åŸåˆ›å‡ºå¤„ http://www.iocoder.cn/Entity/trade-module-deliver-express/ ã€ŒèŠ‹é“æºç ã€æ¬¢è¿è½¬è½½ï¼Œä¿ç•™æ‘˜è¦ï¼Œè°¢è°¢ï¼

- [1. æ¦‚è¿°](http://www.iocoder.cn/Entity/trade-module-deliver-express/)
- [2. èƒŒæ™¯äº†è§£](http://www.iocoder.cn/Entity/trade-module-deliver-express/)
  - [2.1 ç‰©æµè®¾ç½®](http://www.iocoder.cn/Entity/trade-module-deliver-express/)
  - [2.2 å¿«é€’å‘è´§è¿è´¹æ¨¡æ¿](http://www.iocoder.cn/Entity/trade-module-deliver-express/)
  - [2.3 ç‰©æµå•](http://www.iocoder.cn/Entity/trade-module-deliver-express/)
- [3. æ•°æ®åº“å®ä½“](http://www.iocoder.cn/Entity/trade-module-deliver-express/)
  - [3.1 Express](http://www.iocoder.cn/Entity/trade-module-deliver-express/)
  - [3.2 ExpressOrder](http://www.iocoder.cn/Entity/trade-module-deliver-express/)
  - [3.3 TradeDeliverySetting](http://www.iocoder.cn/Entity/trade-module-deliver-express/)
  - [3.3 TradeDeliveryExpressTemplate](http://www.iocoder.cn/Entity/trade-module-deliver-express/)
  - [3.5 TradeDeliveryExpressOrder](http://www.iocoder.cn/Entity/trade-module-deliver-express/)
- [4. API](http://www.iocoder.cn/Entity/trade-module-deliver-express/)
  - [4.1 ExpressAPI](http://www.iocoder.cn/Entity/trade-module-deliver-express/)
  - [4.2 TradeDeliverySettingAPI](http://www.iocoder.cn/Entity/trade-module-deliver-express/)
  - [4.3 TradeDeliveryExpressTemplateAPI](http://www.iocoder.cn/Entity/trade-module-deliver-express/)
  - [4.4 TradeDeliveryExpressOrderAPI](http://www.iocoder.cn/Entity/trade-module-deliver-express/)
  - [4.5 TradeDeliveryOnlineAPI](http://www.iocoder.cn/Entity/trade-module-deliver-express/)
- [666. å½©è›‹](http://www.iocoder.cn/Entity/trade-module-deliver-express/)

-------

# 1. æ¦‚è¿°

æœ¬æ–‡ä¸»è¦åˆ†äº«**äº¤æ˜“æ¨¡å—çš„[ç‰©æµä¿¡æ¯](#)çš„æ•°æ®åº“å®ä½“è®¾è®¡**ã€‚

åŸºäºå¦‚ä¸‹ä¿¡æ¯ï¼Œé€†å‘çŒœæµ‹æ•°æ®åº“å®ä½“ï¼š

* [æœ‰èµäº‘æä¾›çš„ç‰©æµAPI](https://www.youzanyun.com/apilist/list/group_trade/logistics)
* [æœ‰èµ**å¾®å•†åŸ**çš„å¿«é€’å‘è´§](https://www.youzan.com/v2/trade/delivery)

> ã€æŠ¤è„¸æ—ç™½ã€‘  
> ç¬”è€…éç”µå•†è¡Œä¸šå‡ºèº« && **éæœ‰èµå·¥ç¨‹å¸ˆ**ï¼Œæ‰€ä»¥æœ‰é”™è¯¯æˆ–ä¸åˆç†çš„åœ°æ–¹ï¼Œçƒ¦è¯·æ–§æ­£å’Œæ¢è®¨ã€‚  
> æœ‰èµæ˜¯ä¸ªå„æ–¹é¢éƒ½å¾ˆ NICE çš„å…¬å¸ï¼Œ[æ¨è](http://www.iocoder.cn/NeiTui/hangzhou/?self) ã€‚

# 2. èƒŒæ™¯äº†è§£

## 2.1 ç‰©æµè®¾ç½®

è®¢å•æ”¯æŒä¸‰ç§ç‰©æµæ–¹å¼ï¼š

1. [ä¸Šé—¨è‡ªæ](https://help.youzan.com/qa#/menu/2119/detail/992?_k=ohe3xz)
2. [åŒåŸé…é€åŠŸèƒ½](https://help.youzan.com/qa#/menu/2119/detail/993?_k=m4delx)
3. [å¿«é€’å‘è´§](https://help.youzan.com/qa#/menu/2119/detail/994?_k=c5f7sh)

é€šè¿‡**ç‰©æµè®¾ç½®**ï¼Œé…ç½®ä¸‰ç§ç‰©æµçš„å¼€å…³ä»¥åŠå…¨å±€è®¾ç½®ã€‚

æœ¬æ–‡ä»…åˆ†äº«**å¿«é€’å‘è´§**ï¼Œå…¶ä»–ç‰©æµæ–¹å¼ï¼Œåœ¨å¦‚ä¸‹æ–‡ç« åˆ†äº«ï¼š

1. // TODO 6009 ç‰©æµæ‹“å±•â€”â€”åŒåŸ
2. [ã€Šæ•°æ®åº“å®ä½“è®¾è®¡ â€”â€” äº¤æ˜“ï¼ˆ2.3ï¼‰ä¹‹ç‰©æµä¿¡æ¯ï¼ˆä¸Šé—¨è‡ªæï¼‰ã€‹](http://www.iocoder.cn/Entity/trade-module-deliver-self-fetch/?self)

ç•Œé¢å¦‚ä¸‹ï¼š

![](http://www.iocoder.cn/images/Entity/2018_03_05/02.png)

## 2.2 å¿«é€’å‘è´§è¿è´¹æ¨¡æ¿

å‚è§æ–‡æ¡£ï¼š

* [ã€Šå¦‚ä½•è®¾ç½®è¿è´¹æ¨¡ç‰ˆï¼ˆæŒ‰ä»¶æŒ‰é‡é‡ï¼‰ï¼Ÿã€‹](https://help.youzan.com/qa#/menu/2119/detail/994?_k=gaoqe5)
* [ã€Šè¿è´¹è®¡è´¹è§„åˆ™ã€‹](https://bbs.youzan.com/forum.php?mod=viewthread&tid=602557)

ç•Œé¢å¦‚ä¸‹ï¼š

1. åˆ—è¡¨  ![](http://www.iocoder.cn/images/Entity/2018_03_05/03.png)
2. æ·»åŠ   ![](http://www.iocoder.cn/images/Entity/2018_03_05/05.png)

## 2.3 ç‰©æµå•

åœ¨ [ã€Šæ•°æ®åº“å®ä½“è®¾è®¡ â€”â€” äº¤æ˜“ï¼ˆ2.1ï¼‰ä¹‹è®¢å•ä¿¡æ¯ã€‹](http://www.iocoder.cn/Entity/trade-module-order/?self) ä¸€æ–‡ä¸­ï¼Œæˆ‘ä»¬æåˆ°ä¸€æ¬¡äº¤æ˜“ä¸‹ï¼Œå¦‚æœè´­ä¹°äº†**å¤šç§**å•†å“ï¼Œæ¯ç§å•†å“ä¼šç”Ÿæˆä¸€ä¸ªäº¤æ˜“æ˜ç»†ã€‚

å–å®¶å¯ä»¥é€‰æ‹©å¤šä¸ªäº¤æ˜“æ˜ç»†è¿›è¡Œå‘è´§ï¼Œå³ä¸€æ¬¡äº¤æ˜“å¯ä»¥æœ‰å¤šä¸ªç‰©æµå•ã€‚ä¾‹å¦‚ï¼Œä¹°å®¶è´­ä¹°äº† Aã€Bã€C å•†å“ï¼Œå–å®¶å¯ä»¥æŒ‰ç…§ [A,B,C] ï¼Œä¹Ÿå¯ä»¥ [A,B]+[C]ï¼Œä¹Ÿå¯ä»¥ [A]+[B]+[C] ä»¥åŠç­‰ç­‰**æ‰‹åŠ¨**å‘è´§ã€‚

ç•Œé¢å¦‚ä¸‹ï¼š

![](http://www.iocoder.cn/images/Entity/2018_03_05/04.png)

# 3. æ•°æ®åº“å®ä½“

æ•´ä½“å®ä½“ç±»å…³ç³»å¦‚ä¸‹å›¾ï¼š

![](http://www.iocoder.cn/images/Entity/2018_03_05/06.png)

å…¨éƒ¨å®ä½“åœ¨ [Github ç‰©æµå®ä½“ç›®å½•](https://github.com/YunaiV/doraemon-entity/tree/9c17e86eb7e3b24beea529ff70433d72223f8f81/src/main/java/cn/iocoder/doraemon/tradegroup/delivery) ä¸‹å¯è§ã€‚

## 3.1 Express

**é€šç”¨**

[Express](https://github.com/YunaiV/doraemon-entity/blob/9c17e86eb7e3b24beea529ff70433d72223f8f81/src/main/java/cn/iocoder/doraemon/tradegroup/delivery/entity/Express.java) ï¼Œå¿«é€’å…¬å¸ï¼Œä¾‹å¦‚åœ†é€šï¼Œç”³é€šç­‰ç­‰ã€‚

```Java
/**
 * ç¼–å·
 */
private Integer id;
/**
 * åå­—
 */
private String name;
/**
 * æ˜¯å¦å±•ç¤º
 *
 * 1-å±•ç¤º
 * 0-éšè—
 */
private Integer display;
```

-------

**æ•°æ®**

èƒ–å‹å¯ä»¥è§£æ [`youzan_express.json`](https://github.com/YunaiV/doraemon-entity/blob/9c17e86eb7e3b24beea529ff70433d72223f8f81/src/main/java/cn/iocoder/doraemon/tradegroup/delivery/entity/youzan_express.json) ï¼Œç”Ÿæˆè‡ªå·±çš„ç‰©æµå…¬å¸æ•°æ®ã€‚æœ‰å¦‚ä¸‹æ³¨æ„ç‚¹ï¼š

1. æ•°æ®æ¥è‡ªæœ‰èµ API ï¼Œæ„Ÿè°¢æœ‰èµã€‚
2. å¦‚æœæœ‰äº›ç‰©æµè‡ªå·±äº§å“æš‚ä¸æ”¯æŒï¼Œå¯ä»¥è®¾ç½®ä¸ºéšè—ã€‚

## 3.2 ExpressOrder

**é€šç”¨**

[ExpressOrder](https://github.com/YunaiV/doraemon-entity/blob/9c17e86eb7e3b24beea529ff70433d72223f8f81/src/main/java/cn/iocoder/doraemon/tradegroup/delivery/entity/ExpressOrder.java) ï¼Œå¿«é€’è®¢å•ã€‚

```Java
/**
 * å¿«é€’å•å·
 */
private String nu;
/**
 * å¿«é€’å…¬å¸ç¼–å· {@link Express#id}
 */
private Integer expressId;
/**
 * åˆ›å»ºæ—¶é—´
 */
private Date createdTime;
/**
 * å¿«é€’çŠ¶æ€
 *
 * 0ï¼šåœ¨é€”ï¼Œå³è´§ç‰©å¤„äºè¿è¾“è¿‡ç¨‹ä¸­ï¼›
 * 1ï¼šæ½ä»¶ï¼Œè´§ç‰©å·²ç”±å¿«é€’å…¬å¸æ½æ”¶å¹¶ä¸”äº§ç”Ÿäº†ç¬¬ä¸€æ¡è·Ÿè¸ªä¿¡æ¯ï¼›
 * 2ï¼šç–‘éš¾ï¼Œè´§ç‰©å¯„é€è¿‡ç¨‹å‡ºäº†é—®é¢˜ï¼›
 * 3ï¼šç­¾æ”¶ï¼Œæ”¶ä»¶äººå·²ç­¾æ”¶ï¼›
 * 4ï¼šé€€ç­¾ï¼Œå³è´§ç‰©ç”±äºç”¨æˆ·æ‹’ç­¾ã€è¶…åŒºç­‰åŸå› é€€å›ï¼Œè€Œä¸”å‘ä»¶äººå·²ç»ç­¾æ”¶ï¼›
 * 5ï¼šæ´¾ä»¶ï¼Œå³å¿«é€’æ­£åœ¨è¿›è¡ŒåŒåŸæ´¾ä»¶ï¼›
 * 6ï¼šé€€å›ï¼Œè´§ç‰©æ­£å¤„äºé€€å›å‘ä»¶äººçš„é€”ä¸­ï¼›
 */
private Integer status;
/**
 * è¿‡ç¨‹äº‹ä»¶æ•°æ®
 *
 * ä½¿ç”¨ JSON å°† {@link Event}æ•°ç»„ æ ¼å¼åŒ–æˆå­—ç¬¦ä¸²
 */
private String data;
```

* å•†å®¶å‘è´§æ—¶ï¼Œå¡«å†™å¥½å¿«é€’å•å·ï¼Œä¼šæ’å…¥è®°å½•åˆ°**è¯¥è¡¨**ï¼ˆå½“ç„¶å‰ææ˜¯ä¸å­˜åœ¨ï¼‰ã€‚
    * [ã€Œ 3.5 TradeDeliveryExpressOrder ã€](#) ï¼Œ**å…³è”æŒ‡å‘** ExpressOrder ã€‚
    * å­˜åœ¨**å•ç‹¬æœåŠ¡**ï¼Œæœ‰**å®šæ—¶ä»»åŠ¡**è°ƒç”¨ä¸åŒç‰©æµå…¬å¸çš„ API æŸ¥è¯¢å¿«é€’è¿›åº¦ï¼Œå­˜å‚¨åˆ°è¯¥è¡¨ä¸­ã€‚çŒœæµ‹æœ‰èµä½¿ç”¨çš„æ˜¯ [api.kuaidi100.com](https://www.kuaidi100.com/openapi/api_post.shtml) è·å¾—ç‰©æµå•å·çš„è·Ÿè¸ªä¿¡æ¯ã€‚
* å¤åˆä¸»é”®
    * `nu` ï¼Œå¿«é€’å•å·ã€‚
    * `expressId` ï¼Œå¿«é€’å…¬å¸ç¼–å·ã€‚
* `createdTime` ï¼Œåˆ›å»ºæ—¶é—´ã€‚**æ³¨æ„**ï¼Œè¿™æ˜¯è®°å½•çš„åˆ›å»ºæ—¶é—´ï¼Œè€Œä¸æ˜¯ç‰©æµè®¢å•å®é™…å‘è´§çš„æ—¶é—´ã€‚
* `status` ï¼ŒçŠ¶æ€ã€‚æµè½¬å¦‚ä¸‹å›¾ï¼š  ![](http://www.iocoder.cn/images/Entity/2018_03_05/10.png)
* `data` ï¼Œè¿‡ç¨‹äº‹ä»¶æ•°æ®ï¼Œä½¿ç”¨ JSON å°† [Event](https://github.com/YunaiV/doraemon-entity/blob/9c17e86eb7e3b24beea529ff70433d72223f8f81/src/main/java/cn/iocoder/doraemon/tradegroup/delivery/entity/ExpressOrder.java#L13-L32) æ•°ç»„æ ¼å¼åŒ–æˆå­—ç¬¦ä¸²ã€‚Event ä»£ç å¦‚ä¸‹ï¼š

    ```Java
    public static class Event {
    
        /**
         * æ—¶é—´
         */
        private Date time;
        /**
         * çŠ¶æ€
         *
         * ä¸ {@link ExpressOrder#status} ä¸€è‡´
         */
        private Integer status;
        /**
         * ä¸Šä¸‹æ–‡
         *
         * ä¾‹å¦‚ï¼Œåˆ°è¾¾ï¼šä¸Šæµ·é™å®‰åŒºå…¬å¸å®å±±æœåŠ¡éƒ¨ ç”± å·²ç­¾æ”¶ ç­¾æ”¶ || åˆ°è¾¾ï¼šæµ™æ±Ÿæ­å·ä½™æ­åŒºè‰¯æ¸šå…¬å¸ å·²æ½ä»¶
         */
        private String context;
    
    }
    ```

-------

å®é™…åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬ä¸æ’é™¤å•†å®¶ä¹±å¡«æˆ–è€…å¡«é”™å¿«é€’å•å·ï¼Œç³»ç»Ÿè‚¯å®šä¸èƒ½æ— é™è½®è¯¢ API æŸ¥è¯¢å¿«é€’è¿›åº¦ã€‚ç›®å‰ç¬”è€…çš„æƒ³æ³•æ˜¯ï¼ŒæŒ‰ç…§å•†å®¶å¡«å†™å¿«é€’å•å·ï¼Œè®¾ç½®ä¸€ä¸ª `refreshTime` ï¼Œè¶…è¿‡è¿™ä¸ªæ—¶é—´ N å¤©ï¼Œä¸å†è½®è¯¢ã€‚æ²¡å¤ªæ·±å…¥æ€è€ƒï¼Œèƒ–å‹æœ‰å¥½çš„æ€è·¯ï¼Œæ¬¢è¿ä¸€èµ·è®¨è®ºèµ·æ¥ã€‚ğŸ˜ˆ

ç¬”è€…åˆæƒ³äº†æƒ³ï¼ŒExpressOrder éä¸šåŠ¡æµç¨‹é‡Œå¿…é¡»çš„æ•°æ®ï¼Œæ›´å¤šçš„ç”¨å¤„æ˜¯è®©ç”¨æˆ·èƒ½æ–¹ä¾¿çœ‹åˆ°çš„å¿«é€’ä¿¡æ¯ã€‚å› æ­¤ï¼Œå¯ä»¥è€ƒè™‘åœ¨ç”¨æˆ·è¿›å…¥è®¢å•è¯¦æƒ…é¡µæŸ¥çœ‹å¿«é€’ä¿¡æ¯æ—¶ï¼Œè°ƒç”¨ [api.kuaidi100.com](https://www.kuaidi100.com/openapi/api_post.shtml) è·å¾—ç‰©æµå•å·çš„è·Ÿè¸ªä¿¡æ¯ã€‚è‡³äºæ˜¯å¦ç¼“å­˜ï¼Œç¬”è€…è§‰å¾—ä¸å¤ªéœ€è¦ï¼Œå› ä¸ºç”¨æˆ·ä¸ä¼š**ç»å¸¸é‡å¤**çœ‹å¿«é€’ä¿¡æ¯ã€‚å½“ç„¶ï¼Œèƒ–å‹çš„ä¸šåŠ¡åœºæ™¯é‡Œéœ€è¦æä¾›ç”¨æˆ·ç‰©æµçš„è¿›åº¦ï¼Œä¾‹å¦‚æ­£åœ¨æ´¾é€ä¸­ï¼Œè¿˜æ˜¯éœ€è¦å­˜å‚¨çš„ã€‚

## 3.3 TradeDeliverySetting

[TradeDeliverySetting](https://github.com/YunaiV/doraemon-entity/blob/9c17e86eb7e3b24beea529ff70433d72223f8f81/src/main/java/cn/iocoder/doraemon/tradegroup/delivery/entity/TradeDeliverySetting.java) ï¼Œäº¤æ˜“å‘è´§è®¾ç½®ã€‚

```Java
/**
 * åº—é“ºç¼–å· {@link cn.iocoder.doraemon.shopgroup.shop.entity.Shop#id}
 */
private Integer id;
/**
 * æ›´æ–°æ—¶é—´
 */
private Date updateTime;
/**
 * æ˜¯å¦å¼€é€šå¿«é€’å‘è´§åŠŸèƒ½
 */
private Boolean isExpress;
/**
 * è®¡è´¹æ–¹å¼
 *
 * 0-æŒ‰å•†å“ç´¯åŠ è¿è´¹
 * 1-ç»„åˆè¿è´¹ï¼ˆæ¨èä½¿ç”¨ï¼‰
 */
private Integer calcType;
/**
 * æ˜¯å¦æ”¯æŒåŒåŸ
 */
private Boolean isLocal;
/**
 * æ˜¯å¦æ”¯æŒåŒåŸå®šæ—¶è¾¾
 */
private Boolean isLocalInTime;
/**
 * æ˜¯å¦æ”¯æŒè‡ªæ
 */
private Boolean isSelf;
```

* `id` ï¼Œåº—é“ºç¼–å·ã€‚é€šè¿‡è¯¥å­—æ®µï¼Œå’Œåº—é“ºå…³è”ã€‚
* `updateTime` ï¼Œæœ€åæ›´æ–°æ—¶é—´ã€‚
* **å¿«é€’å‘è´§**ç›¸å…³
    * `isExpress` ï¼Œæ˜¯å¦å¼€é€šå¿«é€’å‘è´§åŠŸèƒ½ã€‚
    * `calcType` ï¼Œè®¡è´¹æ–¹å¼ã€‚ç›®å‰æœ‰ä¸¤ç§è®¡è´¹æ–¹å¼ï¼Œå‚è§ [ã€Šè¿è´¹è®¡è´¹è§„åˆ™ã€‹](https://bbs.youzan.com/forum.php?mod=viewthread&tid=602557) ã€‚
* **åŒåŸé…é€**ç›¸å…³
    * `isLocal` ï¼Œæ˜¯å¦æ”¯æŒåŒåŸã€‚
    * `isLocalInTime` ï¼Œæ˜¯å¦æ”¯æŒåŒåŸå®šæ—¶è¾¾ã€‚
* **ä¸Šé—¨è‡ªæ**ç›¸å…³
    * `isSelf` ï¼Œæ˜¯å¦æ”¯æŒè‡ªæã€‚  

## 3.3 TradeDeliveryExpressTemplate

[TradeDeliveryExpressTemplate](https://github.com/YunaiV/doraemon-entity/blob/9c17e86eb7e3b24beea529ff70433d72223f8f81/src/main/java/cn/iocoder/doraemon/tradegroup/delivery/entity/TradeDeliveryExpressTemplate.java) ï¼Œäº¤æ˜“å‘è´§å¿«é€’è¿è´¹æ¨¡æ¿ã€‚

```Java
/**
 * æ¨¡æ¿ç¼–å·
 */
private Integer id;
/**
 * åº—é“ºç¼–å·
 */
private Integer shopId;
/**
 * æ¨¡æ¿åç§°
 */
private String name;
/**
 * çŠ¶æ€
 *
 * 1-æ­£å¸¸
 * 2-åˆ é™¤
 */
private Integer status;
/**
 * å½“å‰ä½¿ç”¨æ¬¡æ•°
 *
 * å½“ä½¿ç”¨æ¬¡æ•°å¤§äºé›¶ï¼Œä¸èƒ½åˆ é™¤
 */
private Integer useCount;
/**
 * ä»˜è´¹ç±»å‹
 *
 * 1-ä¹°å®¶ä»˜è´¹
 * 2-å–å®¶ä»˜è´¹
 */
private Integer payType;
/**
 * æ˜¯å¦åŒ…é‚®
 *
 * 0-å¦
 * 1-æ˜¯
 * 2-éƒ¨åˆ†
 */
private Integer freeType;
/**
 * å¤åˆ¶äºå“ªä¸ªæ¨¡æ¿çš„ç¼–å·
 */
private Integer copyOfTemplateId;
/**
 * è®¡ç®—ç±»å‹
 *
 * 1-æŒ‰ä»¶
 * 2-æŒ‰é‡é‡
 * 3-æŒ‰ä½“ç§¯
 */
private Integer valuationType;
/**
 * è¿è´¹è§„åˆ™æ•°ç»„
 *
 * ä½¿ç”¨ JSON å°† {@link ValueRule}æ•°ç»„ æ ¼å¼åŒ–æˆå­—ç¬¦ä¸²
 */
private String valuationRules;
/**
 * åˆ›å»ºæ—¶é—´
 */
private Date createTime;
/**
 * æ›´æ–°æ—¶é—´
 */
private Date updateTime;
/**
 * åˆ é™¤æ—¶é—´
 */
private Integer deleteTime;
```

* `id` ï¼Œæ¨¡æ¿ç¼–å·ã€‚
* `shopId` ï¼Œåº—é“ºç¼–å·ã€‚ä¸€ä¸ªåº—é“ºå¯ä»¥æœ‰å¤šä¸ªæ¨¡æ¿ã€‚
* `name` ï¼Œæ¨¡æ¿åç§°ã€‚
* `status` ï¼ŒçŠ¶æ€ã€‚åˆ é™¤æ¨¡æ¿æ—¶ï¼Œæ ‡è®° `status = 2` åˆ é™¤ã€‚
* `useCount` ï¼Œå½“å‰ä½¿ç”¨è¯¥æ¨¡æ¿çš„å•†å“æ•°ã€‚å½“ `userCount > 0` æ—¶ï¼Œä¸å…è®¸åˆ é™¤ã€‚**ä¸ºä»€ä¹ˆæœ‰è¯¥å­—æ®µ**ï¼Ÿå•†å“æ¨¡å—**ä¾èµ–**å¿«é€’æ¨¡æ¿ï¼Œæ¨¡æ¿åˆ é™¤æ—¶ï¼Œéœ€è¦ä¿è¯ä¸å­˜åœ¨å¼•ç”¨è¯¥æ¨¡æ¿çš„å•†å“ã€‚é‚£ä¹ˆå¦‚æœæ²¡æœ‰è¯¥å­—æ®µï¼Œåˆ é™¤è¯¥æ¨¡æ¿åˆ™éœ€è¦**åå‘ä¾èµ–**å•†å“æ¨¡å—ï¼Œè®¡ç®—æœ‰å¤šå°‘å•†å“å¼•ç”¨äº†è¯¥æ¨¡æ¿ã€‚é€šè¿‡è¿™æ ·çš„æ–¹å¼ï¼Œè¿›è¡Œ**è§£è€¦**ã€‚å½“ç„¶ï¼Œå•†å“å¼•ç”¨æ¨¡æ¿æ—¶ï¼Œéœ€è¦å¢é•¿è®¡æ•°ï¼›å–æ¶ˆå¼•ç”¨æ¨¡æ¿æ—¶ï¼Œéœ€è¦å‡å°è®¡æ•°ã€‚
* `payType` ï¼Œä»˜è´¹ç±»å‹ã€‚ç›®å‰æœ‰èµçœ‹åˆ°ä½¿ç”¨**å–å®¶ä»˜è´¹**ã€‚
* `freeType` ï¼ŒåŒ…é‚®ç±»å‹ã€‚
* `copyOfTemplateId` ï¼Œå¤åˆ¶è‡ªå“ªä¸ªæ¨¡æ¿çš„ç¼–å·ã€‚
* `valuationType` ï¼Œè®¡ç®—è¿è´¹ç±»å‹ã€‚ç›®å‰æœ‰èµä¸»è¦ä½¿ç”¨**æŒ‰ä»¶ã€æŒ‰é‡é‡**ã€‚
* `valuationRules` ï¼Œè¿è´¹è§„åˆ™æ•°ç»„ã€‚ä½¿ç”¨ JSON å°† [ValueRule](https://github.com/YunaiV/doraemon-entity/blob/9c17e86eb7e3b24beea529ff70433d72223f8f81/src/main/java/cn/iocoder/doraemon/tradegroup/delivery/entity/TradeDeliveryExpressTemplate.java#L14-L37) æ•°ç»„æ ¼å¼åŒ–æˆå­—ç¬¦ä¸²è¿›è¡Œå­˜å‚¨ã€‚ValueRule ä»£ç å¦‚ä¸‹ï¼š

    ```Java
    /**
     * åœ°åŒºç¼–å·æ•°ç»„
     */
    private List<String> regions;
    /**
     * é¦–ä»¶æ•°é‡ï¼Œå•ä½æ ¹æ® {@link #valuationType}
     */
    private Integer firstAmount;
    /**
     * é¦–ä»¶è¿è´¹ï¼Œå•ä½ï¼šåˆ†
     */
    private Integer firstFee;
    /**
     * ç»­ä»¶æ•°é‡ï¼Œå•ä½æ ¹æ® {@link #valuationType}
     */
    private Integer additionalAmount;
    /**
     * ç»­ä»¶è¿è´¹ï¼Œå•ä½ï¼šåˆ†
     */
    private Integer additionalFee;
    ```
    * `regions` ï¼Œåœ°åŒºç¼–å·æ•°ç»„ã€‚å­˜å‚¨è¯¥å­—æ®µæ¯”è¾ƒ**è®²ç©¶**ï¼š
        * é€‰æ‹©æµ™æ±Ÿçœä¸‹æ‰€æœ‰çš„åŸå¸‚ï¼Œåªéœ€è¦å­˜å‚¨æµ™æ±Ÿçœçš„åœ°åŒºç¼–å·ã€‚
        * é€‰æ‹©æµ™æ±Ÿçœä¸‹éƒ¨åˆ†çš„åŸå¸‚ï¼Œå­˜å‚¨é€‰æ‹©çš„æµ™æ±Ÿçš„åŸå¸‚çš„åœ°åŒºç¼–å·ã€‚å½“ç„¶ï¼Œå¦‚æœæœ‰éœ€è¦ï¼Œå¯ä»¥æ–°å»ºä¸€ä¸ª ValueRule å¯¹è±¡ï¼Œé…ç½®æµ™æ±Ÿçœå‰©ä¸‹éƒ¨åˆ†çš„åŸå¸‚çš„ä»·æ ¼é…ç½®ã€‚

-------

ğŸ˜ˆ è¿™é‡Œå¯èƒ½æœ‰ä¸“ä¸šå‰æ‰‹ä¸‰åå¹´çš„ç»éªŒçš„å°ä¼™ä¼´å¯èƒ½å°±ä¼šé—®ï¼šWhatï¼ŸåŒ…é‚®æ€ä¹ˆå¤„ç†ï¼Ÿ

ç­”ï¼š**åŒ…é‚®**åœ¨ [ã€Šæ»¡å‡é€ã€‹](https://help.youzan.com/qa#/menu/2186/detail/325?_k=ksz0df) åŠŸèƒ½ï¼Œåç»­æˆ‘ä»¬åˆ†äº«è¥é”€æ¨¡å—æ—¶ï¼Œä¼šä¸“é—¨åˆ†äº«ã€‚

## 3.5 TradeDeliveryExpressOrder

[TradeDeliveryExpressOrder](https://github.com/YunaiV/doraemon-entity/blob/9c17e86eb7e3b24beea529ff70433d72223f8f81/src/main/java/cn/iocoder/doraemon/tradegroup/delivery/TradeDeliveryExpressOrderAPI.java) ï¼Œäº¤æ˜“å‘è´§å¿«é€’è®¢å•ã€‚

```Java
/**
 * äº¤æ˜“ç¼–å· {@link cn.iocoder.doraemon.tradegroup.trade.entity.Trade#id}
 */
private String tid;
/**
 * äº¤æ˜“æ˜ç»†ç¼–å· {@link cn.iocoder.doraemon.tradegroup.trade.entity.TradeOrder#id}
 */
private Long oid;
/**
 * å¿«é€’å•å·
 */
private String nu;
/**
 * å¿«é€’å…¬å¸ç¼–å·
 */
private Integer expressId;
/**
 * çŠ¶æ€
 *
 * 1-æ­£å¸¸
 * 2-åˆ é™¤
 */
private Integer status;
/**
 * å‘è´§æ—¶é—´
 */
private Date createTime;
/**
 * åˆ é™¤æ—¶é—´
 */
private Date deleteTime;
```

* æŒ‡å‘å¯¹åº”çš„ TradeOrder
    * `tid` ï¼Œäº¤æ˜“ç¼–å·ï¼Œå³ `Trade.tid` ã€‚
    * `oid` ï¼Œäº¤æ˜“æ˜ç»†ç¼–å·ï¼Œå³ `TradeOrder.id` ã€‚
* æŒ‡å‘å¯¹åº”çš„ ExpressOrder
    * `nu` ï¼Œå¿«é€’å•å·ï¼Œå³ `ExpressOrder.nu` ã€‚
    * `expressId` ï¼Œå¿«é€’å…¬å¸ç¼–å·ï¼Œå³ `Express.id` ã€‚
* `status` ï¼ŒçŠ¶æ€ã€‚å–å®¶å¯èƒ½äº¤æ˜“æ˜ç»†( äº¤æ˜“è®¢å• )å‘è´§æ—¶ï¼Œå¡«å†™é”™äº†å¿«é€’å•å·ã€‚æ­¤æ—¶ï¼Œå¯ä»¥ä¿®æ”¹ä¿¡æ¯ã€‚ä¿®æ”¹æ—¶ï¼Œå°†åŸæœ‰ TradeDeliveryExpressOrder è®°å½•æ ‡è®° `status = 2` åˆ é™¤ï¼Œå¹¶æ·»åŠ æ–°è®°å½•ã€‚

# 4. API

åŸºäºå¦‚ä¸‹æ•´ç† API ç±»ã€‚

* [æœ‰èµäº‘æä¾›çš„ç‰©æµAPI](https://www.youzanyun.com/apilist/list/group_trade/logistics)

## 4.1 ExpressAPI

[ExpressAPI](https://github.com/YunaiV/doraemon-entity/blob/9c17e86eb7e3b24beea529ff70433d72223f8f81/src/main/java/cn/iocoder/doraemon/tradegroup/delivery/ExpressAPI.java) ï¼Œ**å¿«é€’** API ã€‚

![](http://www.iocoder.cn/images/Entity/2018_03_05/07.png)

## 4.2 TradeDeliverySettingAPI

[TradeDeliverySettingAPI](https://github.com/YunaiV/doraemon-entity/blob/9c17e86eb7e3b24beea529ff70433d72223f8f81/src/main/java/cn/iocoder/doraemon/tradegroup/delivery/TradeDeliverySettingAPI.java) ï¼Œäº¤æ˜“å‘è´§**è®¾ç½®** API ã€‚

![](http://www.iocoder.cn/images/Entity/2018_03_05/09.png)

## 4.3 TradeDeliveryExpressTemplateAPI

[TradeDeliveryExpressTemplateAPI](https://github.com/YunaiV/doraemon-entity/blob/9c17e86eb7e3b24beea529ff70433d72223f8f81/src/main/java/cn/iocoder/doraemon/tradegroup/delivery/TradeDeliveryExpressTemplateAPI.java) ï¼Œäº¤æ˜“å‘è´§å¿«é€’**è¿è´¹æ¨¡æ¿** API ã€‚

![](http://www.iocoder.cn/images/Entity/2018_03_05/08.png)

## 4.4 TradeDeliveryExpressOrderAPI

[TradeDeliveryExpressOrderAPI](https://github.com/YunaiV/doraemon-entity/blob/9c17e86eb7e3b24beea529ff70433d72223f8f81/src/main/java/cn/iocoder/doraemon/tradegroup/delivery/TradeDeliveryExpressOrderAPI.java) ï¼Œäº¤æ˜“å‘è´§**å¿«é€’è®¢å•** API ã€‚

![](http://www.iocoder.cn/images/Entity/2018_03_05/11.png)

## 4.5 TradeDeliveryOnlineAPI

[TradeDeliveryOnlineAPI](https://github.com/YunaiV/doraemon-entity/blob/9c17e86eb7e3b24beea529ff70433d72223f8f81/src/main/java/cn/iocoder/doraemon/tradegroup/delivery/TradeDeliveryOnlineAPI.java) ï¼Œäº¤æ˜“å‘è´§**æ ¸å¿ƒ** API ã€‚

![](http://www.iocoder.cn/images/Entity/2018_03_05/13.png)

-------

**ä¸ºä»€ä¹ˆç‹¬ç«‹äºå¿«é€’è®¢å•çš„ API**ï¼ŸåŸå› å¦‚ä¸‹ï¼š

1. äº¤æ˜“æœ‰å¤šç§ç‰©æµæ–¹å¼ï¼Œä¸ä»…é™äºå¿«é€’ã€‚
2. TradeDeliveryExpressOrderAPI åŸºäº TradeDeliveryExpressOrder æä¾›API æœåŠ¡ï¼Œä¸æä¾›å’Œ Trade å’Œ TradeOrder çš„å…³è”é€»è¾‘ã€‚éœ€è¦å…³è”çš„é€»è¾‘åœ¨ TradeDeliveryOnlineAPI å®Œæˆã€‚

**è¿™å—æ¶‰åŠåˆ° API çš„æ‹†åˆ†ï¼Œæœ‰ç»éªŒçš„èƒ–å‹æ¬¢è¿ä¸€èµ·æ¢è®¨**ã€‚

# 666. å½©è›‹

åŸå…ˆæŠŠç‰©æµæƒ³ç®€å•çš„ï¼Œæ¢³ç†ä¸€æ¬¡ï¼ŒGet äº†è›®å¤šç»éªŒçš„ã€‚

ä¸‹é¢åœ¨äº†è§£ä¸‹ä¸Šé—¨è‡ªæå’ŒåŒåŸé…é€åŠŸèƒ½ã€‚æ€è€ƒäº†ä¸‹ï¼Œè¿™ä¸¤ç§æ–¹å¼éƒ½è›®ç¬¦åˆåŸºäºåŒ»é™¢åœºæ™¯çš„ä¸€äº›è¯‰æ±‚ã€‚


