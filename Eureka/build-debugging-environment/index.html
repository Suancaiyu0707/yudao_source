<!DOCTYPE HTML><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="google-site-verification" content="GkJ68PCnxM9Ih7Zm9v8p91FOCV7ymNCO2KdGbflLh3E"><meta name="360-site-verification" content="dd6547587641bfede036f7c79561e8a0"><meta name="shenma-site-verification" content="fd96cf3751972c9b05f8471d2ccadddc_1496951214"><meta name="msvalidate.01" content="1D38B05050A977F6FDEDA481198343F1"><meta name="sogou_site_verification" content="MpPsku240L"><title>Eureka æºç è§£æ â€”â€” è°ƒè¯•ç¯å¢ƒæ­å»º | èŠ‹é“æºç  â€”â€” çº¯æºç è§£æBLOG</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=3,minimum-scale=1"><meta name="author" content="ç‹æ–‡æ–Œ"><meta name="description" content="æ‘˜è¦: åŸåˆ›å‡ºå¤„ http://www.iocoder.cn/Eureka/build-debugging-environment/ ã€ŒèŠ‹é“æºç ã€æ¬¢è¿è½¬è½½ï¼Œä¿ç•™æ‘˜è¦ï¼Œè°¢è°¢ï¼
æœ¬æ–‡ä¸»è¦åŸºäº Eureka 1.8.X ç‰ˆæœ¬ 

1. ä¾èµ–å·¥å…·
2. æºç æ‹‰å–
3. Eureka-Server å¯åŠ¨
3."><meta name="keywords" content="Java,æ¶æ„,åç«¯,æœåŠ¡ç«¯,RocketMQ,MyCAT,åˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—,åˆ†å¸ƒå¼å­˜å‚¨,æŠ€æœ¯åšå®¢,Sharding-JDBC,åˆ†åº“åˆ†è¡¨"><link rel="alternate" href="atom.xml" title="èŠ‹é“æºç  â€”â€” çº¯æºç è§£æBLOG" type="application/atom+xml"><link rel="icon" href="/images/favicon.ico"><link rel="stylesheet" href="/css/style.css"><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="//hm.baidu.com/hm.js?9e70e3362807c1bd185a79655b307027";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script>!function(){var t="http:"==document.location.protocol?"http://js.passport.qihucdn.com/11.0.1.js?f05b61dd54bbc38386611a5238672938":"https://jspassport.ssl.qhimg.com/11.0.1.js?f05b61dd54bbc38386611a5238672938";document.write('<script src="'+t+'" id="sozz"><\/script>')}()</script><script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script></head></html><body><header><div><div id="textlogo"><h1 class="site-name"><a href="/" title="èŠ‹é“æºç  â€”â€” çº¯æºç è§£æBLOG">èŠ‹é“æºç  â€”â€” çº¯æºç è§£æBLOG</a></h1><a class="blog-motto">æ„¿åŠç”Ÿç¼–ç ï¼Œå¦‚ä¸€ç”Ÿè€å‹ï¼</a></div><div class="navbar"><a class="navbutton navmobile" href="#" title="èœå•"></a></div><nav class="animated"><ul><ul><li><a href="/">æ–‡ç« </a></li><li><a href="https://github.com/YunaiV" rel="external nofollow noopener noreferrer" target="_blank">Github</a></li><li><a href="http://www.iocoder.cn/images/common/wechat_mp_2017_07_31_bak.jpg">å¾®ä¿¡å…¬ä¼—å·</a></li><li><a href="/link_url">å‹é“¾</a></li></ul></ul></nav></div></header><div id="container"><div class="openaside"><a class="navbutton" href="#" title="æ˜¾ç¤ºä¾§è¾¹æ "></a></div><div id="toc" class="toc-aside"><strong class="toc-title">æ–‡ç« ç›®å½•</strong><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-ä¾èµ–å·¥å…·"><span class="toc-number">1.</span> <span class="toc-text">1. ä¾èµ–å·¥å…·</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-æºç æ‹‰å–"><span class="toc-number">2.</span> <span class="toc-text">2. æºç æ‹‰å–</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-Eureka-Server-å¯åŠ¨"><span class="toc-number">3.</span> <span class="toc-text">3. Eureka-Server å¯åŠ¨</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-MockRemoteEurekaServer"><span class="toc-number">3.1.</span> <span class="toc-text">3.1 MockRemoteEurekaServer</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-Eureka-Server-war-åŒ…"><span class="toc-number">3.2.</span> <span class="toc-text">3.2 Eureka-Server war åŒ…</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-Eureka-Server-ç›´æ¥å¯åŠ¨"><span class="toc-number">3.3.</span> <span class="toc-text">3.3 Eureka-Server ç›´æ¥å¯åŠ¨</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-Eureka-Client-å¯åŠ¨"><span class="toc-number">4.</span> <span class="toc-text">4. Eureka-Client å¯åŠ¨</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#666-å½©è›‹"><span class="toc-number">5.</span> <span class="toc-text">666. å½©è›‹</span></a></li></ol></div><div id="asidepart"><aside class="clearfix"><div id="authorInfo"><div><img width="100%" src="/images/common/wechat_mp_2017_07_31_bak.jpg"></div><div class="social-list"></div></div><div class="categorieslist"><p class="asidetitle">å¾®ä¿¡å…¬ä¼—å·ç¦åˆ©ï¼šèŠ‹é“æºç </p><ul><li><a href="/images/common/wechat_mp_2017_07_31_bak.jpg">0. é˜…è¯»æºç è‘µèŠ±å®å…¸</a></li><li><a href="/images/common/wechat_mp_2017_07_31_bak.jpg">1. RocketMQ / MyCAT / Sharding-JDBC è¯¦ç»†ä¸­æ–‡æ³¨é‡Šæºç </a></li><li><a href="/images/common/wechat_mp_2017_07_31_bak.jpg">2. æ‚¨å¯¹äºæºç çš„ç–‘é—®æ¯æ¡ç•™è¨€éƒ½å°†å¾—åˆ°è®¤çœŸå›å¤</a></li><li><a href="/images/common/wechat_mp_2017_07_31_bak.jpg">3. æ–°çš„æºç è§£ææ–‡ç« å®æ—¶æ”¶åˆ°é€šçŸ¥ï¼Œæ¯å‘¨å…­åç‚¹æ›´æ–°</a></li><li><a href="/images/common/wechat_mp_2017_07_31_bak.jpg">4. è®¤çœŸçš„æºç äº¤æµå¾®ä¿¡ç¾¤</a></li></ul></div><div class="categorieslist"><p class="asidetitle">åˆ†ç±»</p><ul><li><a href="/categories/Docker/" title="Docker">Docker<sup>2</sup></a></li><li><a href="/categories/Elastic-Job-Cloud/" title="Elastic-Job-Cloud">Elastic-Job-Cloud<sup>6</sup></a></li><li><a href="/categories/Elastic-Job-Lite/" title="Elastic-Job-Lite">Elastic-Job-Lite<sup>16</sup></a></li><li><a href="/categories/Eureka/" title="Eureka">Eureka<sup>9</sup></a></li><li><a href="/categories/MyCAT/" title="MyCAT">MyCAT<sup>9</sup></a></li><li><a href="/categories/Nginx/" title="Nginx">Nginx<sup>1</sup></a></li><li><a href="/categories/RocketMQ/" title="RocketMQ">RocketMQ<sup>14</sup></a></li><li><a href="/categories/Sharding-JDBC/" title="Sharding-JDBC">Sharding-JDBC<sup>18</sup></a></li><li><a href="/categories/TCC-Transaction/" title="TCC-Transaction">TCC-Transaction<sup>7</sup></a></li><li><a href="/categories/æŠ€æœ¯æ‚æ–‡/" title="æŠ€æœ¯æ‚æ–‡">æŠ€æœ¯æ‚æ–‡<sup>5</sup></a></li></ul></div></aside></div><div id="main" class="post" itemscope="" itemprop="blogPost"><article itemprop="articleBody"><header class="article-info clearfix"><h1 itemprop="name"><a href="/Eureka/build-debugging-environment/" title="Eureka æºç è§£æ â€”â€” è°ƒè¯•ç¯å¢ƒæ­å»º" itemprop="url">Eureka æºç è§£æ â€”â€” è°ƒè¯•ç¯å¢ƒæ­å»º</a></h1><p class="article-author"></p><p class="article-time">æ€»é˜…è¯»é‡:<span id="busuanzi_value_page_pv"></span>æ¬¡</p></header><div class="article-content"><p>æ‘˜è¦: åŸåˆ›å‡ºå¤„ <a href="http://www.iocoder.cn/Eureka/build-debugging-environment/">http://www.iocoder.cn/Eureka/build-debugging-environment/</a> ã€ŒèŠ‹é“æºç ã€æ¬¢è¿è½¬è½½ï¼Œä¿ç•™æ‘˜è¦ï¼Œè°¢è°¢ï¼</p><p><strong>æœ¬æ–‡ä¸»è¦åŸºäº Eureka 1.8.X ç‰ˆæœ¬</strong></p><ul><li><a href="#">1. ä¾èµ–å·¥å…·</a></li><li><a href="#">2. æºç æ‹‰å–</a></li><li><a href="#">3. Eureka-Server å¯åŠ¨</a><ul><li><a href="#">3.1 MockRemoteEurekaServer</a></li><li><a href="#">3.2 Eureka-Server war åŒ…</a></li><li><a href="#">3.3 Eureka-Server ç›´æ¥å¯åŠ¨</a></li></ul></li><li><a href="#">4. Eureka-Client å¯åŠ¨</a></li><li><a href="#">666. å½©è›‹</a></li></ul><hr><p><img src="http://www.iocoder.cn/images/common/wechat_mp_2017_07_31.jpg" alt=""></p><blockquote><p>ğŸ™‚ğŸ™‚ğŸ™‚å…³æ³¨<strong>å¾®ä¿¡å…¬ä¼—å·ï¼šã€èŠ‹é“æºç ã€‘</strong>æœ‰ç¦åˆ©ï¼š</p><ol><li>RocketMQ / MyCAT / Sharding-JDBC <strong>æ‰€æœ‰</strong>æºç åˆ†ææ–‡ç« åˆ—è¡¨</li><li>RocketMQ / MyCAT / Sharding-JDBC <strong>ä¸­æ–‡æ³¨é‡Šæºç  GitHub åœ°å€</strong></li><li>æ‚¨å¯¹äºæºç çš„ç–‘é—®æ¯æ¡ç•™è¨€<strong>éƒ½</strong>å°†å¾—åˆ°<strong>è®¤çœŸ</strong>å›å¤ã€‚<strong>ç”šè‡³ä¸çŸ¥é“å¦‚ä½•è¯»æºç ä¹Ÿå¯ä»¥è¯·æ•™å™¢</strong>ã€‚</li><li><strong>æ–°çš„</strong>æºç è§£ææ–‡ç« <strong>å®æ—¶</strong>æ”¶åˆ°é€šçŸ¥ã€‚<strong>æ¯å‘¨æ›´æ–°ä¸€ç¯‡å·¦å³</strong>ã€‚</li><li><strong>è®¤çœŸçš„</strong>æºç äº¤æµå¾®ä¿¡ç¾¤ã€‚</li></ol></blockquote><hr><h1 id="1-ä¾èµ–å·¥å…·"><a href="#1-ä¾èµ–å·¥å…·" class="headerlink" title="1. ä¾èµ–å·¥å…·"></a>1. ä¾èµ–å·¥å…·</h1><ul><li>Gradle</li><li>JDK</li><li>IntelliJ IDEA</li></ul><p><strong>æ¨è Spring Cloud ä¹¦ç±</strong>ï¼š</p><ul><li>è¯·æ”¯æŒæ­£ç‰ˆã€‚ä¸‹è½½ç›—ç‰ˆï¼Œ<strong>ç­‰äºä¸»åŠ¨ç¼–å†™ä½çº§ BUG</strong> ã€‚</li><li>ç¨‹åºçŒ¿DD â€”â€” <a href="https://union-click.jd.com/jdc?d=505Twi" rel="external nofollow noopener noreferrer" target="_blank">ã€ŠSpring Cloudå¾®æœåŠ¡å®æˆ˜ã€‹</a></li><li>å‘¨ç«‹ â€”â€” <a href="https://union-click.jd.com/jdc?d=k3sAaK" rel="external nofollow noopener noreferrer" target="_blank">ã€ŠSpring Cloudä¸Dockerå¾®æœåŠ¡æ¶æ„å®æˆ˜ã€‹</a></li><li>ä¸¤ä¹¦é½ä¹°ï¼Œäº¬ä¸œåŒ…é‚®ã€‚</li></ul><h1 id="2-æºç æ‹‰å–"><a href="#2-æºç æ‹‰å–" class="headerlink" title="2. æºç æ‹‰å–"></a>2. æºç æ‹‰å–</h1><p>ä»å®˜æ–¹ä»“åº“ <a href="https://github.com/Netflix/eureka.git" rel="external nofollow noopener noreferrer" target="_blank">https://github.com/Netflix/eureka.git</a> <code>Fork</code> å‡ºå±äºè‡ªå·±çš„ä»“åº“ã€‚ä¸ºä»€ä¹ˆè¦ <code>Fork</code> ï¼Ÿæ—¢ç„¶å¼€å§‹é˜…è¯»ã€è°ƒè¯•æºç ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå†™ä¸€äº›æ³¨é‡Šï¼Œæœ‰äº†è‡ªå·±çš„ä»“åº“ï¼Œå¯ä»¥è¿›è¡Œè‡ªç”±çš„æäº¤ã€‚ğŸ˜ˆ</p><p>ä½¿ç”¨ <code>IntelliJ IDEA</code> ä» <code>Fork</code> å‡ºæ¥çš„ä»“åº“æ‹‰å–ä»£ç ã€‚æ‹‰å–å®Œæˆåï¼Œ<code>Gradle</code> ä¼šä¸‹è½½ä¾èµ–åŒ…ï¼Œå¯èƒ½ä¼šèŠ±è´¹ä¸€äº›æ—¶é—´ï¼Œè€å¿ƒç­‰å¾…ä¸‹ã€‚</p><p>æœ¬æ–‡åŸºäº <code>master</code> åˆ†æ”¯ã€‚</p><h1 id="3-Eureka-Server-å¯åŠ¨"><a href="#3-Eureka-Server-å¯åŠ¨" class="headerlink" title="3. Eureka-Server å¯åŠ¨"></a>3. Eureka-Server å¯åŠ¨</h1><p>Eureka-Server å¯åŠ¨è°ƒè¯•æ–¹å¼ï¼Œæœ‰ä¸‰ç§æ–¹å¼ï¼Œæˆ‘ä»¬æ¥å°è¯•æ¯ä¸€ç§ã€‚</p><h2 id="3-1-MockRemoteEurekaServer"><a href="#3-1-MockRemoteEurekaServer" class="headerlink" title="3.1 MockRemoteEurekaServer"></a>3.1 MockRemoteEurekaServer</h2><p><code>com.netflix.eureka.AbstractTester</code>ï¼Œæµ‹è¯•æŠ½è±¡ç±»ï¼Œæœ‰å¦‚ä¸‹å®ç°å­ç±»ï¼š</p><p><img src="http://www.iocoder.cn/images/Eureka/2018_04_08/01.png" alt=""></p><p>ä½¿ç”¨ä»»æ„ä¸€ä¸ªå­ç±»çš„å•å…ƒæµ‹è¯•æ‰§è¡Œå³å¯æ‰§è¡Œ Eureka-Server é€»è¾‘çš„è°ƒè¯•ï¼Œè¿™é‡Œä»¥ <code>com.netflix.eureka.resources.ApplicationsResourceTest</code> ä½œä¸ºä¾‹å­ã€‚</p><p>Debug è¿è¡Œ <code>ApplicationsResourceTest#testFullAppsGetJson()</code> å•å…ƒæµ‹è¯•ã€‚åœ¨æ–¹æ³•æ‰§è¡Œå‰ï¼Œ<code>ApplicationsResourceTest#setUp()</code> ä¼šè¿è¡Œï¼Œåˆå§‹åŒ– Eureka-Server <strong>æ¨¡æ‹Ÿç¯å¢ƒ</strong>ï¼Œä¾‹å¦‚ï¼š<br><code>com.netflix.eureka.mock.MockRemoteEurekaServer</code> ( æ¨¡æ‹Ÿ Eureka-Server )ã€‚</p><p>å› ä¸ºæ˜¯<strong>æ¨¡æ‹Ÿç¯å¢ƒ</strong>ï¼Œå¯¹ Eureka-Server çš„æ“ä½œä¸æ˜¯ Eureka-Client è¯·æ±‚ Eureka-Server çš„æ–¹å¼ï¼Œè€Œæ˜¯ç›´æ¥è°ƒç”¨å•å…ƒæµ‹è¯•å¯¹åº”çš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="comment">// ApplicationsResourceTest.java</span></div><div class="line"><span class="meta">@Test</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFullAppsGetJson</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</div><div class="line">   Response response = applicationsResource.getContainers(</div><div class="line">           Version.V2.name(),</div><div class="line">           MediaType.APPLICATION_JSON,</div><div class="line">           <span class="keyword">null</span>, <span class="comment">// encoding</span></div><div class="line">           EurekaAccept.full.name(),</div><div class="line">           <span class="keyword">null</span>,  <span class="comment">// uriInfo</span></div><div class="line">           <span class="keyword">null</span>  <span class="comment">// remote regions</span></div><div class="line">   );</div><div class="line"></div><div class="line">   String json = String.valueOf(response.getEntity());</div><div class="line">   DecoderWrapper decoder = CodecWrappers.getDecoder(CodecWrappers.LegacyJacksonJson.class);</div><div class="line"></div><div class="line">   Applications decoded = decoder.decode(json, Applications.class);</div><div class="line">   <span class="comment">// test per app as the full apps list include the mock server that is not part of the test apps</span></div><div class="line">   <span class="keyword">for</span> (Application application : testApplications.getRegisteredApplications()) &#123;</div><div class="line">       Application decodedApp = decoded.getRegisteredApplications(application.getName());</div><div class="line">       assertThat(EurekaEntityComparators.equal(application, decodedApp), is(<span class="keyword">true</span>));</div><div class="line">   &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><ul><li>ç›´æ¥è°ƒç”¨ <code>ApplicationsResource#getContainers(...)</code> æ–¹æ³•ã€‚</li></ul><p><strong>æ€»ç»“</strong>ï¼šè¿™ç§æ–¹å¼ï¼Œç®€å•ç²—æš´ï¼Œå®¹æ˜“ä¸Šæ‰‹ã€‚å½“ç„¶ï¼Œå®ƒçš„ç¼ºç‚¹æ˜¯<strong>æ¨¡æ‹Ÿ</strong>ã€‚åˆšå¼€å§‹è°ƒè¯• Eureka-Server å¯ä»¥å°è¯•è¿™ç§æ–¹å¼ã€‚</p><h2 id="3-2-Eureka-Server-war-åŒ…"><a href="#3-2-Eureka-Server-war-åŒ…" class="headerlink" title="3.2 Eureka-Server war åŒ…"></a>3.2 Eureka-Server war åŒ…</h2><p>ç¬¬ä¸€æ­¥ï¼Œç¼–è¯‘ Eureka-Server war åŒ…ã€‚è¯¥æ­¥éª¤å¯èƒ½æ¶ˆè€—æ¼«é•¿çš„æ—¶é—´ï¼Œå¦‚æœæ‰§è¡Œå¤±è´¥ï¼Œè¯·ä¸æ–­é‡è¯•ã€‚å‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line"><span class="built_in">cd</span> eureka</div><div class="line">./gradlew clean build</div></pre></td></tr></table></figure><p>ç¬¬äºŒæ­¥ï¼ŒDebug è¿è¡Œ<code>com.netflix.eureka.resources.EurekaClientServerRestIntegrationTest</code> ä»»æ„å•å…ƒæµ‹è¯•æ–¹æ³•ã€‚</p><p><strong>æ€»ç»“</strong>ï¼šè¿™ç§æ–¹å¼ï¼Œç¼–è¯‘çš„è¿‡ç¨‹æ¯”è¾ƒç—›è‹¦ï¼Œä¸æ’é™¤å¤±è´¥çš„å¯èƒ½æ€§ã€‚æ¯æ¬¡å¢åŠ å¯¹ä»£ç çš„æ³¨å†Œåï¼Œéƒ½éœ€è¦é‡æ–°ç¼–è¯‘æ‰“åŒ…ã€‚å› æ­¤ä¸å»ºè®®é‡‡ç”¨ã€‚é‚£å’‹åŠå‘¢ï¼Ÿè§ç¬¬ä¸‰ç§ã€‚è‰¯å¿ƒå¦‚åšä¸»ï¼Œèµ¶ç´§å…³æ³¨åšä¸»çš„å¾®ä¿¡å…¬ä¼—å·ï¼šã€<strong>èŠ‹é“æºç </strong>ã€‘ã€‚</p><h2 id="3-3-Eureka-Server-ç›´æ¥å¯åŠ¨"><a href="#3-3-Eureka-Server-ç›´æ¥å¯åŠ¨" class="headerlink" title="3.3 Eureka-Server ç›´æ¥å¯åŠ¨"></a>3.3 Eureka-Server ç›´æ¥å¯åŠ¨</h2><p>ç¬¬ä¸€æ­¥ï¼Œä¿®æ”¹ <code>EurekaClientServerRestIntegrationTest#startServer()</code> æ–¹æ³•ï¼Œè§£å†³ç¬¬äºŒç§æ–¹å¼ä½¿ç”¨ war åŒ…è¿è¡Œæ¯æ¬¡ä¿®æ”¹ä»£ç éƒ½éœ€è¦é‡æ–°ç¼–è¯‘çš„é—®é¢˜ï¼Œå®ç°ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="comment">// EurekaClientServerRestIntegrationTest.java</span></div><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">startServer</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</div><div class="line">   server = <span class="keyword">new</span> Server(<span class="number">8080</span>);</div><div class="line"></div><div class="line">   <span class="comment">// TODO Thread.currentThread().getContextClassLoader() è·å–ä¸åˆ°è·¯å¾„ï¼Œå…ˆæš‚æ—¶è¿™æ ·ï¼›</span></div><div class="line">   WebAppContext webAppCtx = <span class="keyword">new</span> WebAppContext(<span class="keyword">new</span> File(<span class="string">"./eureka-server/src/main/webapp"</span>).getAbsolutePath(), <span class="string">"/"</span>);</div><div class="line">   webAppCtx.setDescriptor(<span class="keyword">new</span> File(<span class="string">"./eureka-server/src/main/webapp/WEB-INF/web.xml"</span>).getAbsolutePath());</div><div class="line">   webAppCtx.setResourceBase(<span class="keyword">new</span> File(<span class="string">"./eureka-server/src/main/resources"</span>).getAbsolutePath());</div><div class="line">   webAppCtx.setClassLoader(Thread.currentThread().getContextClassLoader());</div><div class="line">   server.setHandler(webAppCtx);</div><div class="line">   server.start();</div><div class="line"></div><div class="line">   eurekaServiceUrl = <span class="string">"http://localhost:8080/v2"</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure><ul><li>ç¬”è€…ä¸å¤ªç†Ÿæ‚‰ Gradle çš„æ‰“åŒ…æ–¹å¼ï¼Œä½¿ç”¨ <code>Thread.currentThread().getContextClassLoader().getResource()</code> æ–¹æ³•ï¼Œä¸€ç›´æ— æ³•æ‹¿åˆ°è·¯å¾„ï¼Œæœ‰çŸ¥é“çš„åŒå­¦éº»çƒ¦å‘ŠçŸ¥ä¸‹ã€‚</li></ul><p>ç¬¬äºŒæ­¥ï¼ŒDebug è¿è¡Œ<code>com.netflix.eureka.resources.EurekaClientServerRestIntegrationTest</code> ä»»æ„å•å…ƒæµ‹è¯•æ–¹æ³•ã€‚</p><p><strong>æ€»ç»“</strong>ï¼šè¿™ç§æ–¹å¼ï¼Œå®Œç¾ã€‚å»ºè®®ä½¿ç”¨è¯¥æ–¹å¼è°ƒè¯•ã€‚</p><h1 id="4-Eureka-Client-å¯åŠ¨"><a href="#4-Eureka-Client-å¯åŠ¨" class="headerlink" title="4. Eureka-Client å¯åŠ¨"></a>4. Eureka-Client å¯åŠ¨</h1><p>æˆ‘ä»¬ä»¥ <code>com.netflix.eureka.ExampleEurekaClient</code> ä¸ºä¾‹å­ã€‚</p><p>ç¬¬ä¸€æ­¥ï¼Œåœ¨ <code>EurekaClientServerRestIntegrationTest#setUp()</code> æ–¹æ³•æœ«å°¾æ·»åŠ  <code>Thread.sleep(Long.MAX_VALUE)</code> ä»£ç ã€‚</p><p>ç¬¬äºŒæ­¥ï¼ŒæŒ‰ç…§<a href="#">ã€Œ 3.3 Eureka-Server ç›´æ¥å¯åŠ¨ã€</a>æ–¹æ³•å¯åŠ¨ Eureka-Serverã€‚</p><p>ç¬¬ä¸‰æ­¥ï¼Œå°† <code>EurekaClientServerRestIntegrationTest#injectEurekaConfiguration</code> å¤åˆ¶åˆ° ExampleEurekaClient ç±»é‡Œã€‚</p><p>ç¬¬å››æ­¥ï¼Œåœ¨ <code>ExampleEurekaClient#main()</code> æ–¹æ³•çš„ç¬¬ä¸€è¡Œï¼Œæ·»åŠ  <code>injectEurekaConfiguration()</code> ä»£ç ã€‚</p><p>ç¬¬äº”æ­¥ï¼ŒDebug è¿è¡Œ <code>ExampleEurekaClient#main()</code> æ–¹æ³•ã€‚</p><p><img src="http://www.iocoder.cn/images/Eureka/2018_04_08/02.png" alt=""></p><p><code>eureka-examples</code> æ¨¡å—è¿˜æä¾›åˆ«çš„ä¾‹å­ï¼Œå¯ä»¥é€ä¸ªè°ƒè¯•ã€‚</p><h1 id="666-å½©è›‹"><a href="#666-å½©è›‹" class="headerlink" title="666. å½©è›‹"></a>666. å½©è›‹</h1><p>æœ¬æ–‡å†™çš„ï¼Œç›¸å¯¹æ¯”è¾ƒç®€æ´ï¼Œå¦‚æœæœ‰ä»»ä½•ç–‘é—®ï¼Œå¯ä»¥ç»™æˆ‘å…¬ä¼—å·ç•™è¨€ã€‚</p><p>ä¸‹ä¸€ç¯‡æ›´æ–°ï¼Ÿæ©ï¼Œæˆ‘è¿˜æ²¡æƒ³å¥½ï¼Œæ•´ç†<a href="#">ã€ŠEureka æºç è§£æã€‹</a>æ•´ä¸ªç³»åˆ—çš„ç›®å½•ingã€‚</p><p>èƒ–å‹ï¼Œåˆ†äº«ä¸€æ³¢æœ‹å‹åœˆå¯å¥½ï¼</p></div><footer class="article-footer clearfix"><div class="article-categories"><span></span> <a class="article-category-link" href="/categories/Eureka/">Eureka</a></div><div class="article-share" id="share"><div data-url="http://www.iocoder.cn/Eureka/build-debugging-environment/" data-title="Eureka æºç è§£æ â€”â€” è°ƒè¯•ç¯å¢ƒæ­å»º | èŠ‹é“æºç  â€”â€” çº¯æºç è§£æBLOG" data-tsina="null" class="share clearfix"></div></div></footer></article><nav class="article-nav clearfix"><div class="prev"><a href="/Eureka/eureka-client-init-first/" title="Eureka æºç è§£æ â€”â€” Eureka-Client åˆå§‹åŒ–ï¼ˆä¸€ï¼‰ä¹‹ EurekaInstanceConfig"><strong>PREVIOUS:</strong><br><span>Eureka æºç è§£æ â€”â€” Eureka-Client åˆå§‹åŒ–ï¼ˆä¸€ï¼‰ä¹‹ EurekaInstanceConfig</span></a></div><div class="next"><a href="/Eureka/project-structure/" title="Eureka æºç è§£æ â€”â€” é¡¹ç›®ç»“æ„ç®€ä»‹"><strong>NEXT:</strong><br><span>Eureka æºç è§£æ â€”â€” é¡¹ç›®ç»“æ„ç®€ä»‹</span></a></div></nav></div></div><footer><div id="footer"><img src="http://www.iocoder.cn/images/common/wechat_mp_simple.png" style="display:none"><p class="copyright">Â© 2017 <a href="http://www.iocoder.cn" target="_blank" title="ç‹æ–‡æ–Œ">ç‹æ–‡æ–Œ</a> && <span style="display:inline" id="busuanzi_container_site_uv">æ€»è®¿å®¢æ•° <span id="busuanzi_value_site_uv" font="å¾®è½¯é›…é»‘"></span> æ¬¡</span> && <span style="display:inline" id="busuanzi_container_site_pv">æ€»è®¿é—®é‡ <span id="busuanzi_value_site_pv" font="å¾®è½¯é›…é»‘"></span> æ¬¡</span> && Hosted by <a href="https://pages.coding.me" style="font-weight:700" rel="external nofollow noopener noreferrer" target="_blank">Coding Pages</a> && Powered by <a href="http://hexo.io" target="_blank" title="hexo" rel="external nofollow noopener noreferrer">hexo</a> && Theme by <a href="http://gengbiao.me" target="_blank" title="coney" rel="external nofollow noopener noreferrer">coney</a></p></div></footer><script src="/js/jquery-2.1.0.min.js"></script><script type="text/javascript">$(document).ready(function(){function e(){"number"==typeof window.innerWidth?n=window.innerWidth:document.documentElement&&document.documentElement.clientWidth&&(n=document.documentElement.clientWidth)}$(".navbar").click(function(){$("header nav").toggleClass("shownav")});var n=0,s=$("#main"),a=$("#asidepart"),o=$(".closeaside"),d=$(".openaside");$(window).resize(function(){e(),n>=1024?$("header nav").removeClass("shownav"):(s.removeClass("moveMain"),a.css("display","block").removeClass("fadeOut"),d.css("display","none"),$("#toc.toc-aside").css("display","none"))}),o.click(function(){a.addClass("fadeOut").css("display","none"),d.css("display","block").addClass("fadeIn"),s.addClass("moveMain")}),d.click(function(){d.css("display","none").removeClass("beforeFadeIn"),a.css("display","block").removeClass("fadeOut").addClass("fadeIn"),s.removeClass("moveMain")}),$(window).scroll(function(){d.css("top",Math.max(80,260-$(this).scrollTop()))})})</script><script type="text/javascript">$(document).ready(function(){var a=$(".article-content>iframe"),t=$(".article-content>embed"),n=$("#toc");$("article h2");ah=$("article h2"),ta=$("#toc.toc-aside"),o=$(".openaside"),c=$(".closeaside"),a.length>0&&a.wrap('<div class="video-container" />'),t.length>0&&t.wrap('<div class="video-container" />'),0==ah.length?n.css("display","none"):(c.click(function(){ta.css("display","block").addClass("fadeIn")}),o.click(function(){ta.css("display","none")}),$(window).scroll(function(){ta.css("top",Math.max(140,320-$(this).scrollTop()))}))})</script><script type="text/javascript">$(document).ready(function(){var t=$(".share"),a=t.attr("data-url"),e=encodeURIComponent(a),r=['<a href="#" class="overlay" id="qrcode"></a>','<div class="qrcode clearfix"><span>æ‰«æäºŒç»´ç åˆ†äº«åˆ°å¾®ä¿¡æœ‹å‹åœˆ</span><a class="qrclose" href="#share"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url='+e+'"/></div>','<a href="#textlogo" class="article-back-to-top" title="Top"></a>','<a href="https://www.facebook.com/sharer.php?u='+e+'" class="article-share-facebook" target="_blank" title="Facebook"></a>','<a href="#qrcode" class="article-share-qrcode" title="QRcode"></a>','<a href="https://twitter.com/intent/tweet?url='+e+'" class="article-share-twitter" target="_blank" title="Twitter"></a>','<a href="http://service.weibo.com/share/share.php?title='+t.attr("data-title")+"&url="+e+"&ralateUid="+t.attr("data-tsina")+'&searchPic=true&style=number" class="article-share-weibo" target="_blank" title="Weibo"></a>','<span title="Share to"></span>'].join("");t.append(r),$(".article-share-qrcode").click(function(){var t=$("#qrcode-pic").attr("data-src");$("#qrcode-pic").attr("src",t),$("#qrcode-pic").load(function(){$(".qrcode strong").text(" ")})})})</script><link rel="stylesheet" href="/alert/css/alert.css"><script src="/alert/js/alert.js"></script><script src="/js/jquery.cookie.js"></script><script src="/js/util.js"></script></body>